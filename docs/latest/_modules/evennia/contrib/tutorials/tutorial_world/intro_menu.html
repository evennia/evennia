<!DOCTYPE html>

<html lang="en" data-content_root="../../../../../">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>evennia.contrib.tutorials.tutorial_world.intro_menu &#8212; Evennia latest documentation</title>
    <link rel="stylesheet" type="text/css" href="../../../../../_static/pygments.css?v=d75fae25" />
    <link rel="stylesheet" type="text/css" href="../../../../../_static/nature.css?v=279e0f84" />
    <link rel="stylesheet" type="text/css" href="../../../../../_static/custom.css?v=e4a91a55" />
    <script src="../../../../../_static/documentation_options.js?v=c6e86fd7"></script>
    <script src="../../../../../_static/doctools.js?v=9bcbadda"></script>
    <script src="../../../../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <link rel="icon" href="../../../../../_static/favicon.ico"/>
    <link rel="index" title="Index" href="../../../../../genindex.html" />
    <link rel="search" title="Search" href="../../../../../search.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="Related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../../../../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../../../../index.html">Evennia</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../../../../index.html" >Module code</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="../../../../evennia.html" accesskey="U">evennia</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">evennia.contrib.tutorials.tutorial_world.intro_menu</a></li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <h1>Source code for evennia.contrib.tutorials.tutorial_world.intro_menu</h1><div class="highlight"><pre>
<span></span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">Intro menu / game tutor</span>

<span class="sd">Evennia contrib - Griatch 2020</span>

<span class="sd">This contrib is an intro-menu for general MUD and evennia usage using the</span>
<span class="sd">EvMenu menu-templating system.</span>

<span class="sd">EvMenu templating is a way to create a menu using a string-format instead</span>
<span class="sd">of creating all nodes manually. Of course, for full functionality one must</span>
<span class="sd">still create the goto-callbacks.</span>

<span class="sd">&quot;&quot;&quot;</span>

<span class="kn">from</span><span class="w"> </span><span class="nn">evennia</span><span class="w"> </span><span class="kn">import</span> <span class="n">CmdSet</span><span class="p">,</span> <span class="n">create_object</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">evennia.utils.evmenu</span><span class="w"> </span><span class="kn">import</span> <span class="n">EvMenu</span><span class="p">,</span> <span class="n">parse_menu_template</span>

<span class="c1"># Goto callbacks and helper resources for the menu</span>


<div class="viewcode-block" id="do_nothing">
<a class="viewcode-back" href="../../../../../api/evennia.contrib.tutorials.tutorial_world.intro_menu.html#evennia.contrib.tutorials.tutorial_world.intro_menu.do_nothing">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">do_nothing</span><span class="p">(</span><span class="n">caller</span><span class="p">,</span> <span class="n">raw_string</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Re-runs the current node</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="kc">None</span></div>



<div class="viewcode-block" id="send_testing_tagged">
<a class="viewcode-back" href="../../../../../api/evennia.contrib.tutorials.tutorial_world.intro_menu.html#evennia.contrib.tutorials.tutorial_world.intro_menu.send_testing_tagged">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">send_testing_tagged</span><span class="p">(</span><span class="n">caller</span><span class="p">,</span> <span class="n">raw_string</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Test to send a message to a pane tagged with &#39;testing&#39; in the webclient.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">caller</span><span class="o">.</span><span class="n">msg</span><span class="p">(</span>
        <span class="p">(</span>
            <span class="p">(</span>
                <span class="s2">&quot;This is a message tagged with &#39;testing&#39; and &quot;</span>
                <span class="s2">&quot;should appear in the pane you selected!</span><span class="se">\n</span><span class="s2"> &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;You wrote: &#39;</span><span class="si">{</span><span class="n">raw_string</span><span class="si">}</span><span class="s2">&#39;&quot;</span>
            <span class="p">),</span>
            <span class="p">{</span><span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;testing&quot;</span><span class="p">},</span>
        <span class="p">)</span>
    <span class="p">)</span>
    <span class="k">return</span> <span class="kc">None</span></div>



<span class="c1"># Resources for the first help-command demo</span>


<div class="viewcode-block" id="DemoCommandSetHelp">
<a class="viewcode-back" href="../../../../../api/evennia.contrib.tutorials.tutorial_world.intro_menu.html#evennia.contrib.tutorials.tutorial_world.intro_menu.DemoCommandSetHelp">[docs]</a>
<span class="k">class</span><span class="w"> </span><span class="nc">DemoCommandSetHelp</span><span class="p">(</span><span class="n">CmdSet</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Demo the help command</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">key</span> <span class="o">=</span> <span class="s2">&quot;Help Demo Set&quot;</span>
    <span class="n">priority</span> <span class="o">=</span> <span class="mi">2</span>

<div class="viewcode-block" id="DemoCommandSetHelp.at_cmdset_creation">
<a class="viewcode-back" href="../../../../../api/evennia.contrib.tutorials.tutorial_world.intro_menu.html#evennia.contrib.tutorials.tutorial_world.intro_menu.DemoCommandSetHelp.at_cmdset_creation">[docs]</a>
    <span class="k">def</span><span class="w"> </span><span class="nf">at_cmdset_creation</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="kn">from</span><span class="w"> </span><span class="nn">evennia</span><span class="w"> </span><span class="kn">import</span> <span class="n">default_cmds</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">default_cmds</span><span class="o">.</span><span class="n">CmdHelp</span><span class="p">())</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">default_cmds</span><span class="o">.</span><span class="n">CmdChannel</span><span class="p">())</span></div>
</div>



<div class="viewcode-block" id="goto_command_demo_help">
<a class="viewcode-back" href="../../../../../api/evennia.contrib.tutorials.tutorial_world.intro_menu.html#evennia.contrib.tutorials.tutorial_world.intro_menu.goto_command_demo_help">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">goto_command_demo_help</span><span class="p">(</span><span class="n">caller</span><span class="p">,</span> <span class="n">raw_string</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="s2">&quot;Sets things up before going to the help-demo node&quot;</span>
    <span class="n">_maintain_demo_room</span><span class="p">(</span><span class="n">caller</span><span class="p">,</span> <span class="n">delete</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">caller</span><span class="o">.</span><span class="n">cmdset</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">DemoCommandSetRoom</span><span class="p">)</span>
    <span class="n">caller</span><span class="o">.</span><span class="n">cmdset</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">DemoCommandSetComms</span><span class="p">)</span>
    <span class="n">caller</span><span class="o">.</span><span class="n">cmdset</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">DemoCommandSetHelp</span><span class="p">)</span>  <span class="c1"># TODO - make persistent</span>
    <span class="k">return</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;gotonode&quot;</span><span class="p">)</span> <span class="ow">or</span> <span class="s2">&quot;command_demo_help&quot;</span></div>



<span class="c1"># Resources for the comms demo</span>


<div class="viewcode-block" id="DemoCommandSetComms">
<a class="viewcode-back" href="../../../../../api/evennia.contrib.tutorials.tutorial_world.intro_menu.html#evennia.contrib.tutorials.tutorial_world.intro_menu.DemoCommandSetComms">[docs]</a>
<span class="k">class</span><span class="w"> </span><span class="nc">DemoCommandSetComms</span><span class="p">(</span><span class="n">CmdSet</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Demo communications</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">key</span> <span class="o">=</span> <span class="s2">&quot;Color Demo Set&quot;</span>
    <span class="n">priority</span> <span class="o">=</span> <span class="mi">2</span>
    <span class="n">no_exits</span> <span class="o">=</span> <span class="kc">True</span>
    <span class="n">no_objs</span> <span class="o">=</span> <span class="kc">True</span>

<div class="viewcode-block" id="DemoCommandSetComms.at_cmdset_creation">
<a class="viewcode-back" href="../../../../../api/evennia.contrib.tutorials.tutorial_world.intro_menu.html#evennia.contrib.tutorials.tutorial_world.intro_menu.DemoCommandSetComms.at_cmdset_creation">[docs]</a>
    <span class="k">def</span><span class="w"> </span><span class="nf">at_cmdset_creation</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="kn">from</span><span class="w"> </span><span class="nn">evennia</span><span class="w"> </span><span class="kn">import</span> <span class="n">default_cmds</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">default_cmds</span><span class="o">.</span><span class="n">CmdHelp</span><span class="p">())</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">default_cmds</span><span class="o">.</span><span class="n">CmdSay</span><span class="p">())</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">default_cmds</span><span class="o">.</span><span class="n">CmdPose</span><span class="p">())</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">default_cmds</span><span class="o">.</span><span class="n">CmdPage</span><span class="p">())</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">default_cmds</span><span class="o">.</span><span class="n">CmdColorTest</span><span class="p">())</span></div>
</div>



<div class="viewcode-block" id="goto_command_demo_comms">
<a class="viewcode-back" href="../../../../../api/evennia.contrib.tutorials.tutorial_world.intro_menu.html#evennia.contrib.tutorials.tutorial_world.intro_menu.goto_command_demo_comms">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">goto_command_demo_comms</span><span class="p">(</span><span class="n">caller</span><span class="p">,</span> <span class="n">raw_string</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Setup and go to the color demo node.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">caller</span><span class="o">.</span><span class="n">cmdset</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">DemoCommandSetHelp</span><span class="p">)</span>
    <span class="n">caller</span><span class="o">.</span><span class="n">cmdset</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">DemoCommandSetRoom</span><span class="p">)</span>
    <span class="n">caller</span><span class="o">.</span><span class="n">cmdset</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">DemoCommandSetComms</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;gotonode&quot;</span><span class="p">)</span> <span class="ow">or</span> <span class="s2">&quot;comms_demo_start&quot;</span></div>



<span class="c1"># Resources for the room demo</span>

<span class="n">_ROOM_DESC</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;</span>
<span class="s2">This is a small and comfortable wood cabin. Bright sunlight is shining in</span>
<span class="s2">through the windows.</span>

<span class="s2">Use |ylook sign|n or |yl sign|n to examine the wooden sign nailed to the wall.</span>

<span class="s2">&quot;&quot;&quot;</span>

<span class="n">_SIGN_DESC</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;</span>
<span class="s2">The small sign reads:</span>

<span class="s2">    Good! Now try &#39;|ylook small|n&#39;.</span>

<span class="s2">    ... You&#39;ll get a multi-match error! There are two things that &#39;small&#39; could</span>
<span class="s2">    refer to here - the &#39;small wooden sign&#39; or the &#39;small, cozy cabin&#39; itself.  You will</span>
<span class="s2">    get a list of the possibilities.</span>

<span class="s2">    You could either tell Evennia which one you wanted by picking a unique part</span>
<span class="s2">    of their name (like &#39;|ylook cozy|n&#39;) or use the number in the list to pick</span>
<span class="s2">    the one you want, like this:</span>

<span class="s2">        |ylook small-2|n</span>

<span class="s2">    As long as what you write is uniquely identifying you can be lazy and not</span>
<span class="s2">    write the full name of the thing you want to look at. Try &#39;|ylook bo|n&#39;,</span>
<span class="s2">    &#39;|yl co|n&#39; or &#39;|yl sm-1|n&#39;!</span>

<span class="s2">    ... Oh, and if you see database-ids like (#1245) by the name of objects,</span>
<span class="s2">    it&#39;s because you are playing with Builder-privileges or higher. Regular</span>
<span class="s2">    players will not see the numbers.</span>

<span class="s2">    Next try |ylook door|n.</span>

<span class="s2">&quot;&quot;&quot;</span>

<span class="n">_DOOR_DESC_OUT</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;</span>
<span class="s2">This is a solid wooden door leading to the outside of the cabin. Some</span>
<span class="s2">text is written on it:</span>

<span class="s2">    This is an |wexit|n. An exit is often named by its compass-direction like</span>
<span class="s2">    |weast|n, |wwest|n, |wnorthwest|n and so on, but it could be named</span>
<span class="s2">    anything, like this door. To use the exit, you just write its name. So by</span>
<span class="s2">    writing |ydoor|n you will leave the cabin.</span>

<span class="s2">&quot;&quot;&quot;</span>

<span class="n">_DOOR_DESC_IN</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;</span>
<span class="s2">This is a solid wooden door leading to the inside of the cabin. On</span>
<span class="s2">are some carved text:</span>

<span class="s2">    This exit leads back into the cabin. An exit is just like any object,</span>
<span class="s2">    so while has a name, it can also have aliases. To get back inside</span>
<span class="s2">    you can both write |ydoor|n but also |yin|n.</span>

<span class="s2">&quot;&quot;&quot;</span>

<span class="n">_MEADOW_DESC</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;</span>
<span class="s2">This is a lush meadow, just outside a cozy cabin. It&#39;s surrounded</span>
<span class="s2">by trees and sunlight filters down from a clear blue sky.</span>

<span class="s2">There is a |wstone|n here. Try looking at it!</span>

<span class="s2">&quot;&quot;&quot;</span>

<span class="n">_STONE_DESC</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;</span>
<span class="s2">This is a fist-sized stone covered in runes:</span>

<span class="s2">    To pick me up, use</span>

<span class="s2">    |yget stone|n</span>

<span class="s2">    You can see what you carry with the |yinventory|n (|yi|n).</span>

<span class="s2">    To drop me again, just write</span>

<span class="s2">    |ydrop stone|n</span>

<span class="s2">    Use |ynext|n when you are done exploring and want to</span>
<span class="s2">    continue with the tutorial.</span>

<span class="s2">&quot;&quot;&quot;</span>


<span class="k">def</span><span class="w"> </span><span class="nf">_maintain_demo_room</span><span class="p">(</span><span class="n">caller</span><span class="p">,</span> <span class="n">delete</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Handle the creation/cleanup of demo assets. We store them</span>
<span class="sd">    on the character and clean them when leaving the menu later.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># this is a tuple (room, obj)</span>
    <span class="n">roomdata</span> <span class="o">=</span> <span class="n">caller</span><span class="o">.</span><span class="n">db</span><span class="o">.</span><span class="n">tutorial_world_demo_room_data</span>

    <span class="k">if</span> <span class="n">delete</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">roomdata</span><span class="p">:</span>
            <span class="c1"># we delete directly for simplicity. We need to delete</span>
            <span class="c1"># in specific order to avoid deleting rooms moves</span>
            <span class="c1"># its contents to their default home-location</span>
            <span class="n">prev_loc</span><span class="p">,</span> <span class="n">room1</span><span class="p">,</span> <span class="n">sign</span><span class="p">,</span> <span class="n">room2</span><span class="p">,</span> <span class="n">stone</span><span class="p">,</span> <span class="n">door_out</span><span class="p">,</span> <span class="n">door_in</span> <span class="o">=</span> <span class="n">roomdata</span>
            <span class="n">caller</span><span class="o">.</span><span class="n">location</span> <span class="o">=</span> <span class="n">prev_loc</span>
            <span class="n">sign</span><span class="o">.</span><span class="n">delete</span><span class="p">()</span>
            <span class="n">stone</span><span class="o">.</span><span class="n">delete</span><span class="p">()</span>
            <span class="n">door_out</span><span class="o">.</span><span class="n">delete</span><span class="p">()</span>
            <span class="n">door_in</span><span class="o">.</span><span class="n">delete</span><span class="p">()</span>
            <span class="n">room1</span><span class="o">.</span><span class="n">delete</span><span class="p">()</span>
            <span class="n">room2</span><span class="o">.</span><span class="n">delete</span><span class="p">()</span>
            <span class="k">del</span> <span class="n">caller</span><span class="o">.</span><span class="n">db</span><span class="o">.</span><span class="n">tutorial_world_demo_room_data</span>
    <span class="k">elif</span> <span class="ow">not</span> <span class="n">roomdata</span><span class="p">:</span>
        <span class="c1"># create and describe the cabin and box</span>
        <span class="n">room1</span> <span class="o">=</span> <span class="n">create_object</span><span class="p">(</span><span class="s2">&quot;evennia.objects.objects.DefaultRoom&quot;</span><span class="p">,</span> <span class="n">key</span><span class="o">=</span><span class="s2">&quot;A small, cozy cabin&quot;</span><span class="p">)</span>
        <span class="n">room1</span><span class="o">.</span><span class="n">db</span><span class="o">.</span><span class="n">desc</span> <span class="o">=</span> <span class="n">_ROOM_DESC</span><span class="o">.</span><span class="n">lstrip</span><span class="p">()</span>
        <span class="n">sign</span> <span class="o">=</span> <span class="n">create_object</span><span class="p">(</span>
            <span class="s2">&quot;evennia.objects.objects.DefaultObject&quot;</span><span class="p">,</span> <span class="n">key</span><span class="o">=</span><span class="s2">&quot;small wooden sign&quot;</span><span class="p">,</span> <span class="n">location</span><span class="o">=</span><span class="n">room1</span>
        <span class="p">)</span>
        <span class="n">sign</span><span class="o">.</span><span class="n">db</span><span class="o">.</span><span class="n">desc</span> <span class="o">=</span> <span class="n">_SIGN_DESC</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
        <span class="n">sign</span><span class="o">.</span><span class="n">locks</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="s2">&quot;get:false()&quot;</span><span class="p">)</span>
        <span class="n">sign</span><span class="o">.</span><span class="n">db</span><span class="o">.</span><span class="n">get_err_msg</span> <span class="o">=</span> <span class="s2">&quot;The sign is nailed to the wall. It&#39;s not budging.&quot;</span>

        <span class="c1"># create and describe the meadow and stone</span>
        <span class="n">room2</span> <span class="o">=</span> <span class="n">create_object</span><span class="p">(</span><span class="s2">&quot;evennia.objects.objects.DefaultRoom&quot;</span><span class="p">,</span> <span class="n">key</span><span class="o">=</span><span class="s2">&quot;A lush summer meadow&quot;</span><span class="p">)</span>
        <span class="n">room2</span><span class="o">.</span><span class="n">db</span><span class="o">.</span><span class="n">desc</span> <span class="o">=</span> <span class="n">_MEADOW_DESC</span><span class="o">.</span><span class="n">lstrip</span><span class="p">()</span>
        <span class="n">stone</span> <span class="o">=</span> <span class="n">create_object</span><span class="p">(</span>
            <span class="s2">&quot;evennia.objects.objects.DefaultObject&quot;</span><span class="p">,</span> <span class="n">key</span><span class="o">=</span><span class="s2">&quot;carved stone&quot;</span><span class="p">,</span> <span class="n">location</span><span class="o">=</span><span class="n">room2</span>
        <span class="p">)</span>
        <span class="n">stone</span><span class="o">.</span><span class="n">db</span><span class="o">.</span><span class="n">desc</span> <span class="o">=</span> <span class="n">_STONE_DESC</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>

        <span class="c1"># make the linking exits</span>
        <span class="n">door_out</span> <span class="o">=</span> <span class="n">create_object</span><span class="p">(</span>
            <span class="s2">&quot;evennia.objects.objects.DefaultExit&quot;</span><span class="p">,</span>
            <span class="n">key</span><span class="o">=</span><span class="s2">&quot;Door&quot;</span><span class="p">,</span>
            <span class="n">location</span><span class="o">=</span><span class="n">room1</span><span class="p">,</span>
            <span class="n">destination</span><span class="o">=</span><span class="n">room2</span><span class="p">,</span>
            <span class="n">locks</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;get:false()&quot;</span><span class="p">],</span>
        <span class="p">)</span>
        <span class="n">door_out</span><span class="o">.</span><span class="n">db</span><span class="o">.</span><span class="n">desc</span> <span class="o">=</span> <span class="n">_DOOR_DESC_OUT</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
        <span class="n">door_in</span> <span class="o">=</span> <span class="n">create_object</span><span class="p">(</span>
            <span class="s2">&quot;evennia.objects.objects.DefaultExit&quot;</span><span class="p">,</span>
            <span class="n">key</span><span class="o">=</span><span class="s2">&quot;entrance to the cabin&quot;</span><span class="p">,</span>
            <span class="n">aliases</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;door&quot;</span><span class="p">,</span> <span class="s2">&quot;in&quot;</span><span class="p">,</span> <span class="s2">&quot;entrance&quot;</span><span class="p">],</span>
            <span class="n">location</span><span class="o">=</span><span class="n">room2</span><span class="p">,</span>
            <span class="n">destination</span><span class="o">=</span><span class="n">room1</span><span class="p">,</span>
            <span class="n">locks</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;get:false()&quot;</span><span class="p">],</span>
        <span class="p">)</span>
        <span class="n">door_in</span><span class="o">.</span><span class="n">db</span><span class="o">.</span><span class="n">desc</span> <span class="o">=</span> <span class="n">_DOOR_DESC_IN</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>

        <span class="c1"># store references for easy removal later</span>
        <span class="n">caller</span><span class="o">.</span><span class="n">db</span><span class="o">.</span><span class="n">tutorial_world_demo_room_data</span> <span class="o">=</span> <span class="p">(</span>
            <span class="n">caller</span><span class="o">.</span><span class="n">location</span><span class="p">,</span>
            <span class="n">room1</span><span class="p">,</span>
            <span class="n">sign</span><span class="p">,</span>
            <span class="n">room2</span><span class="p">,</span>
            <span class="n">stone</span><span class="p">,</span>
            <span class="n">door_out</span><span class="p">,</span>
            <span class="n">door_in</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="c1"># move caller into room</span>
        <span class="n">caller</span><span class="o">.</span><span class="n">location</span> <span class="o">=</span> <span class="n">room1</span>


<div class="viewcode-block" id="DemoCommandSetRoom">
<a class="viewcode-back" href="../../../../../api/evennia.contrib.tutorials.tutorial_world.intro_menu.html#evennia.contrib.tutorials.tutorial_world.intro_menu.DemoCommandSetRoom">[docs]</a>
<span class="k">class</span><span class="w"> </span><span class="nc">DemoCommandSetRoom</span><span class="p">(</span><span class="n">CmdSet</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Demo some general in-game commands command.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">key</span> <span class="o">=</span> <span class="s2">&quot;Room Demo Set&quot;</span>
    <span class="n">priority</span> <span class="o">=</span> <span class="mi">2</span>
    <span class="n">no_exits</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="n">no_objs</span> <span class="o">=</span> <span class="kc">False</span>

<div class="viewcode-block" id="DemoCommandSetRoom.at_cmdset_creation">
<a class="viewcode-back" href="../../../../../api/evennia.contrib.tutorials.tutorial_world.intro_menu.html#evennia.contrib.tutorials.tutorial_world.intro_menu.DemoCommandSetRoom.at_cmdset_creation">[docs]</a>
    <span class="k">def</span><span class="w"> </span><span class="nf">at_cmdset_creation</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="kn">from</span><span class="w"> </span><span class="nn">evennia</span><span class="w"> </span><span class="kn">import</span> <span class="n">default_cmds</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">default_cmds</span><span class="o">.</span><span class="n">CmdHelp</span><span class="p">())</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">default_cmds</span><span class="o">.</span><span class="n">CmdLook</span><span class="p">())</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">default_cmds</span><span class="o">.</span><span class="n">CmdGet</span><span class="p">())</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">default_cmds</span><span class="o">.</span><span class="n">CmdDrop</span><span class="p">())</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">default_cmds</span><span class="o">.</span><span class="n">CmdInventory</span><span class="p">())</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">default_cmds</span><span class="o">.</span><span class="n">CmdExamine</span><span class="p">())</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">default_cmds</span><span class="o">.</span><span class="n">CmdPy</span><span class="p">())</span></div>
</div>



<div class="viewcode-block" id="goto_command_demo_room">
<a class="viewcode-back" href="../../../../../api/evennia.contrib.tutorials.tutorial_world.intro_menu.html#evennia.contrib.tutorials.tutorial_world.intro_menu.goto_command_demo_room">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">goto_command_demo_room</span><span class="p">(</span><span class="n">caller</span><span class="p">,</span> <span class="n">raw_string</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Setup and go to the demo-room node. Generates a little 2-room environment</span>
<span class="sd">    for testing out some commands.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">_maintain_demo_room</span><span class="p">(</span><span class="n">caller</span><span class="p">)</span>
    <span class="n">caller</span><span class="o">.</span><span class="n">cmdset</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">DemoCommandSetHelp</span><span class="p">)</span>
    <span class="n">caller</span><span class="o">.</span><span class="n">cmdset</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">DemoCommandSetComms</span><span class="p">)</span>
    <span class="n">caller</span><span class="o">.</span><span class="n">cmdset</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">DemoCommandSetRoom</span><span class="p">)</span>
    <span class="k">return</span> <span class="s2">&quot;command_demo_room&quot;</span></div>



<div class="viewcode-block" id="goto_cleanup_cmdsets">
<a class="viewcode-back" href="../../../../../api/evennia.contrib.tutorials.tutorial_world.intro_menu.html#evennia.contrib.tutorials.tutorial_world.intro_menu.goto_cleanup_cmdsets">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">goto_cleanup_cmdsets</span><span class="p">(</span><span class="n">caller</span><span class="p">,</span> <span class="n">raw_strings</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Cleanup all cmdsets.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">caller</span><span class="o">.</span><span class="n">cmdset</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">DemoCommandSetHelp</span><span class="p">)</span>
    <span class="n">caller</span><span class="o">.</span><span class="n">cmdset</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">DemoCommandSetComms</span><span class="p">)</span>
    <span class="n">caller</span><span class="o">.</span><span class="n">cmdset</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">DemoCommandSetRoom</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;gotonode&quot;</span><span class="p">)</span></div>



<span class="c1"># register all callables that can be used in the menu template</span>

<span class="n">GOTO_CALLABLES</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;send_testing_tagged&quot;</span><span class="p">:</span> <span class="n">send_testing_tagged</span><span class="p">,</span>
    <span class="s2">&quot;do_nothing&quot;</span><span class="p">:</span> <span class="n">do_nothing</span><span class="p">,</span>
    <span class="s2">&quot;goto_command_demo_help&quot;</span><span class="p">:</span> <span class="n">goto_command_demo_help</span><span class="p">,</span>
    <span class="s2">&quot;goto_command_demo_comms&quot;</span><span class="p">:</span> <span class="n">goto_command_demo_comms</span><span class="p">,</span>
    <span class="s2">&quot;goto_command_demo_room&quot;</span><span class="p">:</span> <span class="n">goto_command_demo_room</span><span class="p">,</span>
    <span class="s2">&quot;goto_cleanup_cmdsets&quot;</span><span class="p">:</span> <span class="n">goto_cleanup_cmdsets</span><span class="p">,</span>
<span class="p">}</span>


<span class="c1"># Main menu definition</span>

<span class="n">MENU_TEMPLATE</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;</span>

<span class="s2">## NODE start</span>

<span class="s2">|g** Evennia introduction wizard **|n</span>

<span class="s2">If you feel lost you can learn some of the basics of how to play a text-based</span>
<span class="s2">game here. You can also learn a little about the system and how to find more</span>
<span class="s2">help. You can exit this tutorial-wizard at any time by entering &#39;|yq|n&#39; or &#39;|yquit|n&#39;.</span>

<span class="s2">Press |y&lt;return&gt;|n or write |ynext|n to step forward. Or select a number to jump to.</span>

<span class="s2">## OPTIONS</span>

<span class="s2">    1 (next);1;next;n: What is a MUD/MU*? -&gt; about_muds</span>
<span class="s2">    2: About Evennia -&gt; about_evennia</span>
<span class="s2">    3: Using the webclient -&gt; using webclient</span>
<span class="s2">    4: The help command -&gt; goto_command_demo_help()</span>
<span class="s2">    5: Communicating with others -&gt; goto_command_demo_help(gotonode=&#39;talk on channels&#39;)</span>
<span class="s2">    6: Using colors -&gt; goto_command_demo_comms(gotonode=&#39;testing_colors&#39;)</span>
<span class="s2">    7: Moving and exploring -&gt; goto_command_demo_room()</span>
<span class="s2">    8: Conclusions &amp; next steps-&gt; conclusions</span>
<span class="s2">    &gt;: about_muds</span>

<span class="s2"># ---------------------------------------------------------------------------------</span>

<span class="s2">## NODE about_muds</span>

<span class="s2">|g** About MUDs **|n</span>

<span class="s2">The term &#39;|wMUD|n&#39; stands for Multi-user-Dungeon or -Dimension. A MUD is</span>
<span class="s2">primarily played by inserting text |wcommands|n and getting text back.</span>

<span class="s2">MUDS were the |wprecursors|n to graphical MMORPG-style games like World of</span>
<span class="s2">Warcraft. While not as mainstream as they once were, comparing a text-game to a</span>
<span class="s2">graphical game is like comparing a book to a movie - it&#39;s just a different</span>
<span class="s2">experience altogether.</span>

<span class="s2">MUDs are |wdifferent|n from Interactive Fiction (IF) in that they are multiplayer</span>
<span class="s2">and usually have a consistent game world with many stories and protagonists</span>
<span class="s2">acting at the same time.</span>

<span class="s2">Like there are many different styles of graphical MMOs, there are |wmany</span>
<span class="s2">variations|n of MUDs: They can be slow-paced or fast. They can cover fantasy,</span>
<span class="s2">sci-fi, horror or other genres. They can allow PvP or not and be casual or</span>
<span class="s2">hardcore, strategic, tactical, turn-based or play in real-time.</span>

<span class="s2">Whereas &#39;MUD&#39; is arguably the most well-known term, there are other terms</span>
<span class="s2">centered around particular game engines - such as MUSH, MOO, MUX, MUCK, LPMuds,</span>
<span class="s2">ROMs, Diku and others. Many people that played MUDs in the past used one of</span>
<span class="s2">these existing families of text game-servers, whether they knew it or not.</span>

<span class="s2">|cEvennia|n is a newer text game engine designed to emulate almost any existing</span>
<span class="s2">gaming style you like and possibly any new ones you can come up with!</span>

<span class="s2">## OPTIONS</span>

<span class="s2">    next;n: About Evennia -&gt; about_evennia</span>
<span class="s2">    back to start;back;start;t: start</span>
<span class="s2">    &gt;: about_evennia</span>

<span class="s2"># ---------------------------------------------------------------------------------</span>

<span class="s2">## NODE about_evennia</span>

<span class="s2">|g** About Evennia **|n</span>

<span class="s2">|cEvennia|n is a Python game engine for creating multiplayer online text-games</span>
<span class="s2">(aka MUDs, MUSHes, MUX, MOOs...). It is open-source and |wfree to use|n, also for</span>
<span class="s2">commercial projects (BSD license).</span>

<span class="s2">Out of the box, Evennia provides a |wworking, if empty game|n. Whereas you can play</span>
<span class="s2">via traditional telnet MUD-clients, the server runs your game&#39;s website and</span>
<span class="s2">offers a |wHTML5 webclient|n so that people can play your game in their browser</span>
<span class="s2">without downloading anything extra.</span>

<span class="s2">Evennia deliberately |wdoes not|n hard-code any game-specific things like</span>
<span class="s2">combat-systems, races, skills, etc. They would not match what just you wanted</span>
<span class="s2">anyway! Whereas we do have optional contribs with many examples, most of our</span>
<span class="s2">users use them as inspiration to make their own thing.</span>

<span class="s2">Evennia is developed entirely in |wPython|n, using modern developer practices.</span>
<span class="s2">The advantage of text is that even a solo developer or small team can</span>
<span class="s2">realistically make a competitive multiplayer game (as compared to a graphical</span>
<span class="s2">MMORPG which is one of the most expensive game types in existence to develop).</span>
<span class="s2">Many also use Evennia as a |wfun way to learn Python|n!</span>

<span class="s2">## OPTIONS</span>

<span class="s2">    next;n: Using the webclient -&gt; using webclient</span>
<span class="s2">    back;b: About MUDs -&gt; about_muds</span>
<span class="s2">    &gt;: using webclient</span>

<span class="s2"># ---------------------------------------------------------------------------------</span>

<span class="s2">## NODE using webclient</span>

<span class="s2">|g** Using the Webclient **|n</span>

<span class="s2">|RNote: This is only relevant if you use Evennia&#39;s HTML5 web client. If you use a</span>
<span class="s2">third-party (telnet) mud-client, you can skip this section.|n</span>

<span class="s2">Evennia&#39;s web client is (for a local install) found by pointing your browser to</span>

<span class="s2">    |yhttp://localhost:4001/webclient|n</span>

<span class="s2">For a live example, the public Evennia demo can be found at</span>

<span class="s2">    |yhttps://demo.evennia.com/webclient|n</span>

<span class="s2">The web client starts out having two panes - the input-pane for entering commands</span>
<span class="s2">and the main window.</span>

<span class="s2">- Use |y&lt;Return&gt;|n (or click the arrow on the right) to send your input.</span>
<span class="s2">- Use |yCtrl + &lt;up/down-arrow&gt;|n to step back and forth in your command-history.</span>
<span class="s2">- Use |yCtrl + &lt;Return&gt;|n to add a new line to your input without sending.</span>
<span class="s2">(Cmd instead of Ctrl-key on Macs)</span>

<span class="s2">There is also some |wextra|n info to learn about customizing the webclient.</span>

<span class="s2">## OPTIONS</span>

<span class="s2">    extra: Customizing the webclient -&gt; customizing the webclient</span>
<span class="s2">    next;n: Playing the game -&gt; goto_command_demo_help()</span>
<span class="s2">    back;b: About Evennia -&gt; about_evennia</span>
<span class="s2">    back to start;start: start</span>
<span class="s2">    &gt;: goto_command_demo_help()</span>

<span class="s2"># ---------------------------------------------------------------------------------</span>

<span class="s2"># this is a dead-end &#39;leaf&#39; of the menu</span>

<span class="s2">## NODE customizing the webclient</span>

<span class="s2">|g** Extra hints on customizing the Webclient **|n</span>

<span class="s2">|y1)|n The panes of the webclient can be resized and you can create additional panes.</span>

<span class="s2">- Press the little  plus (|w+|n) sign in the top left and a new tab will appear.</span>
<span class="s2">- Click and drag the tab and pull it far to the right and release when it creates two</span>
<span class="s2">  panes next to each other.</span>

<span class="s2">|y2)|n You can have certain server output only appear in certain panes.</span>

<span class="s2">- In your new rightmost pane, click the diamond (⯁) symbol at the top.</span>
<span class="s2">- Unselect everything and make sure to select &quot;testing&quot;.</span>
<span class="s2">- Click the diamond again so the menu closes.</span>
<span class="s2">- Next, write &quot;|ytest Hello world!|n&quot;. A test-text should appear in your rightmost pane!</span>

<span class="s2">|y3)|n You can customize general webclient settings by pressing the cogwheel in the upper</span>
<span class="s2">left corner. It allows to change things like font and if the client should play sound.</span>

<span class="s2">The &quot;message routing&quot; allows for rerouting text matching a certain regular expression (regex)</span>
<span class="s2">to a web client pane with a specific tag that you set yourself.</span>

<span class="s2">|y4)|n Close the right-hand pane with the |wX|n in the rop right corner.</span>

<span class="s2">## OPTIONS</span>

<span class="s2">    back;b: using webclient</span>
<span class="s2">    &gt; test *: send tagged message to new pane -&gt; send_testing_tagged()</span>
<span class="s2">    &gt;: using webclient</span>

<span class="s2"># ---------------------------------------------------------------------------------</span>

<span class="s2"># we get here via goto_command_demo_help()</span>

<span class="s2">## NODE command_demo_help</span>

<span class="s2">|g** Playing the game **|n</span>

<span class="s2">Evennia has about |w90 default commands|n. They include useful administration/building</span>
<span class="s2">commands and a few limited &quot;in-game&quot; commands to serve as examples. They are intended</span>
<span class="s2">to be changed, extended and modified as you please.</span>

<span class="s2">First to try is |yhelp|n. This lists all commands |wcurrently|n available to you.</span>

<span class="s2">Use |yhelp &lt;topic&gt;|n to get specific help. Try |yhelp help|n to get help on using</span>
<span class="s2">the help command. For your game you could add help about your game, lore, rules etc</span>
<span class="s2">as well.</span>

<span class="s2">At the moment you probably only have |whelp|n and a |wchannel|n command</span>
<span class="s2">(the &#39;&lt;menu commands&gt;&#39; is just a placeholder to indicate you are using this menu).</span>

<span class="s2">We&#39;ll add more commands as we get to them in this tutorial - but we&#39;ll only</span>
<span class="s2">cover a small handful. Once you exit you&#39;ll find a lot more! Now let&#39;s try</span>
<span class="s2">those channels ...</span>

<span class="s2">## OPTIONS</span>

<span class="s2">    next;n: Talk on Channels -&gt; talk on channels</span>
<span class="s2">    back;b: Using the webclient -&gt; goto_cleanup_cmdsets(gotonode=&#39;using webclient&#39;)</span>
<span class="s2">    back to start;start: start</span>
<span class="s2">    &gt;: talk on channels</span>

<span class="s2"># ---------------------------------------------------------------------------------</span>

<span class="s2">## NODE talk on channels</span>

<span class="s2">|g** Talk on Channels **|n</span>

<span class="s2">|wChannels|n are like in-game chatrooms. The |wChannel Names|n help-category</span>
<span class="s2">holds the names of the channels available to you right now. One such channel is</span>
<span class="s2">|wpublic|n. Use |yhelp public|n to see how to use it. Try it:</span>

<span class="s2">    |ypublic Hello World!|n</span>

<span class="s2">This will send a message to the |wpublic|n channel where everyone on that</span>
<span class="s2">channel can see it. If someone else is on your server, you may get a reply!</span>

<span class="s2">Evennia can link its in-game channels to external chat networks. This allows</span>
<span class="s2">you to talk with people not actually logged into the game.</span>

<span class="s2">## OPTIONS</span>

<span class="s2">    next;n: Talk to people in-game -&gt; goto_command_demo_comms()</span>
<span class="s2">    back;b: Finding help -&gt; goto_command_demo_help()</span>
<span class="s2">    back to start;start: start</span>
<span class="s2">    &gt;: goto_command_demo_comms()</span>

<span class="s2"># ---------------------------------------------------------------------------------</span>

<span class="s2"># we get here via goto_command_demo_comms()</span>

<span class="s2">## NODE comms_demo_start</span>

<span class="s2">|g** Talk to people in-game **|n</span>

<span class="s2">You can also chat with people inside the game. If you try |yhelp|n now you&#39;ll</span>
<span class="s2">find you have a few more commands available for trying this out.</span>

<span class="s2">    |ysay Hello there!|n</span>
<span class="s2">    |y&#39;Hello there!|n</span>

<span class="s2">|wsay|n is used to talk to people in the same location you are. Everyone in the</span>
<span class="s2">room will see what you have to say. A single quote |y&#39;|n is a  convenient shortcut.</span>

<span class="s2">    |ypose smiles|n</span>
<span class="s2">    |y:smiles|n</span>

<span class="s2">|wpose|n (or |wemote|n) describes what you do to those nearby. This is a very simple</span>
<span class="s2">command by default, but it can be extended to much more complex parsing in order to</span>
<span class="s2">include other people/objects in the emote, reference things by a short-description etc.</span>

<span class="s2">## OPTIONS</span>

<span class="s2">    next;n: Paging people -&gt; paging_people</span>
<span class="s2">    back;b: Talk on Channels -&gt; goto_command_demo_help(gotonode=&#39;talk on channels&#39;)</span>
<span class="s2">    back to start;start: start</span>
<span class="s2">    &gt;: paging_people</span>

<span class="s2"># ---------------------------------------------------------------------------------</span>

<span class="s2">## NODE paging_people</span>

<span class="s2">|g** Paging people **|n</span>

<span class="s2">Halfway between talking on a |wChannel|n and chatting in your current location</span>
<span class="s2">with |wsay|n and |wpose|n, you can also send private messages with |wpage|n:</span>

<span class="s2">    |ypage &lt;name&gt; Hello there!|n</span>

<span class="s2">Put your own name as |y&lt;name&gt;|n to page yourself as a test. Write just |ypage|n</span>
<span class="s2">to see your latest pages. This will also show you if anyone paged you while you</span>
<span class="s2">were offline.</span>

<span class="s2">## OPTIONS</span>

<span class="s2">    next;n: Using colors -&gt; testing_colors</span>
<span class="s2">    back;b: Talk to people in-game -&gt; comms_demo_start</span>
<span class="s2">    back to start;start: start</span>
<span class="s2">    &gt;: testing_colors</span>

<span class="s2"># ---------------------------------------------------------------------------------</span>

<span class="s2">## NODE testing_colors</span>

<span class="s2">|g** U|rs|yi|gn|wg |c|yc|wo|rl|bo|gr|cs |g**|n</span>

<span class="s2">You can add color in your text by the help of tags. However, remember that not</span>
<span class="s2">everyone will see your colors - it depends on their client (and some use</span>
<span class="s2">screenreaders). Using color can also make text harder to read. So use it</span>
<span class="s2">sparingly.</span>

<span class="s2">To start coloring something |rred|n, add a ||r (red) marker and then</span>
<span class="s2">end with ||n (to go back to neutral/no-color):</span>

<span class="s2">    |ysay This is a ||rred||n text!</span>
<span class="s2">    say This is a ||Rdark red||n text!|n</span>

<span class="s2">You can also change the background:</span>

<span class="s2">    |ysay This is a ||[x||bblue text on a light-grey background!|n</span>

<span class="s2">There are 16 base colors and as many background colors (called ANSI colors). Some</span>
<span class="s2">clients also supports so-called Xterm256 which gives a total of 256 colors. These are</span>
<span class="s2">given as |w||rgb|n, where r, g, b are the components of red, green and blue from 0-5:</span>

<span class="s2">    |ysay This is ||050solid green!|n</span>
<span class="s2">    |ysay This is ||520an orange color!|n</span>
<span class="s2">    |ysay This is ||[005||555white on bright blue background!|n</span>

<span class="s2">If you don&#39;t see the expected colors from the above examples, it&#39;s because your</span>
<span class="s2">client does not support it - try out the Evennia webclient instead. To see all</span>
<span class="s2">color codes printed, try</span>

<span class="s2">    |ycolor ansi</span>
<span class="s2">    |ycolor xterm</span>

<span class="s2">## OPTIONS</span>

<span class="s2">    next;n: Moving and Exploring -&gt; goto_command_demo_room()</span>
<span class="s2">    back;b: Paging people -&gt; goto_command_demo_comms(gotonode=&#39;paging_people&#39;)</span>
<span class="s2">    back to start;start: start</span>
<span class="s2">    &gt;: goto_command_demo_room()</span>

<span class="s2"># ---------------------------------------------------------------------------------</span>

<span class="s2"># we get here via goto_command_demo_room()</span>

<span class="s2">## NODE command_demo_room</span>

<span class="s2">|gMoving and Exploring|n</span>

<span class="s2">For exploring the game, a very important command is &#39;|ylook|n&#39;. It&#39;s also</span>
<span class="s2">abbreviated &#39;|yl|n&#39; since it&#39;s used so much. Looking displays/redisplays your</span>
<span class="s2">current location. You can also use it to look closer at items in the world. So</span>
<span class="s2">far in this tutorial, using &#39;look&#39; would just redisplay the menu.</span>

<span class="s2">Try |ylook|n now. You have been quietly transported to a sunny cabin to look</span>
<span class="s2">around in. Explore a little and use |ynext|n when you are done.</span>

<span class="s2">## OPTIONS</span>

<span class="s2">    next;n: Conclusions -&gt; conclusions</span>
<span class="s2">    back;b: Channel commands -&gt; goto_command_demo_comms(gotonode=&#39;testing_colors&#39;)</span>
<span class="s2">    back to start;start: start</span>
<span class="s2">    &gt;: conclusions</span>

<span class="s2"># ---------------------------------------------------------------------------------</span>

<span class="s2">## NODE conclusions</span>

<span class="s2">|gConclusions|n</span>

<span class="s2">That concludes this little quick-intro to using the base game commands of</span>
<span class="s2">Evennia. With this you should be able to continue exploring and also find help</span>
<span class="s2">if you get stuck!</span>

<span class="s2">Write |ynext|n to end this wizard. If you want there is also some |wextra|n info</span>
<span class="s2">for where to go beyond that.</span>

<span class="s2">## OPTIONS</span>

<span class="s2">    extra: Where to go next -&gt; post scriptum</span>
<span class="s2">    next;next;n: End -&gt; end</span>
<span class="s2">    back;b: Moving and Exploring -&gt; goto_command_demo_room()</span>
<span class="s2">    back to start;start: start</span>
<span class="s2">    &gt;: end</span>

<span class="s2"># ---------------------------------------------------------------------------------</span>

<span class="s2">## NODE post scriptum</span>

<span class="s2">|gWhere to next?|n</span>

<span class="s2">After playing through the tutorial-world quest, if you aim to make a game with</span>
<span class="s2">Evennia you are wise to take a look at the |wEvennia documentation|n at</span>

<span class="s2">    |yhttps://www.evennia.com/docs/latest|n</span>

<span class="s2">- You can start by trying to build some stuff by following the |wBuilder quick-start|n:</span>

<span class="s2">    |yhttps://www.evennia.com/docs/latest/Howtos/Beginner-Tutorial/Part1/Beginner-Tutorial-Building-Quickstart|n</span>

<span class="s2">- The tutorial-world may or may not be your cup of tea, but it does show off</span>
<span class="s2">  several |wuseful tools|n of Evennia. You may want to check out how it works:</span>

<span class="s2">    |yhttps://www.evennia.com/docs/latest/Howtos/Beginner-Tutorial/Part1/Beginner-Tutorial-Tutorial-World|n</span>

<span class="s2">- You can then continue looking through the |wTutorials|n and pick one that</span>
<span class="s2">  fits your level of understanding.</span>

<span class="s2">    |yhttps://www.evennia.com/docs/latest/Howtos/Howtos-Overview|n</span>

<span class="s2">- Make sure to |wjoin our forum|n and connect to our |wsupport chat|n! The</span>
<span class="s2">  Evennia community is very active and friendly and no question is too simple.</span>
<span class="s2">  You will often quickly get help. You can everything you need linked from</span>

<span class="s2">    |yhttps://www.evennia.com|n</span>

<span class="s2"># ---------------------------------------------------------------------------------</span>

<span class="s2">## OPTIONS</span>

<span class="s2">back: conclusions</span>
<span class="s2">&gt;: conclusions</span>


<span class="s2">## NODE end</span>

<span class="s2">|gGood luck!|n</span>

<span class="s2">&quot;&quot;&quot;</span>


<span class="c1"># -------------------------------------------------------------------------------------------</span>
<span class="c1">#</span>
<span class="c1"># EvMenu implementation and access function</span>
<span class="c1">#</span>
<span class="c1"># -------------------------------------------------------------------------------------------</span>


<div class="viewcode-block" id="TutorialEvMenu">
<a class="viewcode-back" href="../../../../../api/evennia.contrib.tutorials.tutorial_world.intro_menu.html#evennia.contrib.tutorials.tutorial_world.intro_menu.TutorialEvMenu">[docs]</a>
<span class="k">class</span><span class="w"> </span><span class="nc">TutorialEvMenu</span><span class="p">(</span><span class="n">EvMenu</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Custom EvMenu for displaying the intro-menu</span>
<span class="sd">    &quot;&quot;&quot;</span>

<div class="viewcode-block" id="TutorialEvMenu.close_menu">
<a class="viewcode-back" href="../../../../../api/evennia.contrib.tutorials.tutorial_world.intro_menu.html#evennia.contrib.tutorials.tutorial_world.intro_menu.TutorialEvMenu.close_menu">[docs]</a>
    <span class="k">def</span><span class="w"> </span><span class="nf">close_menu</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Custom cleanup actions when closing menu&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">caller</span><span class="o">.</span><span class="n">cmdset</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">DemoCommandSetHelp</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">caller</span><span class="o">.</span><span class="n">cmdset</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">DemoCommandSetRoom</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">caller</span><span class="o">.</span><span class="n">cmdset</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">DemoCommandSetComms</span><span class="p">)</span>
        <span class="n">_maintain_demo_room</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">caller</span><span class="p">,</span> <span class="n">delete</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">close_menu</span><span class="p">()</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">caller</span><span class="o">.</span><span class="n">account</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">caller</span><span class="o">.</span><span class="n">msg</span><span class="p">(</span><span class="s2">&quot;Restoring permissions ...&quot;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">caller</span><span class="o">.</span><span class="n">account</span><span class="o">.</span><span class="n">execute_cmd</span><span class="p">(</span><span class="s2">&quot;unquell&quot;</span><span class="p">)</span></div>


<div class="viewcode-block" id="TutorialEvMenu.options_formatter">
<a class="viewcode-back" href="../../../../../api/evennia.contrib.tutorials.tutorial_world.intro_menu.html#evennia.contrib.tutorials.tutorial_world.intro_menu.TutorialEvMenu.options_formatter">[docs]</a>
    <span class="k">def</span><span class="w"> </span><span class="nf">options_formatter</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">optionslist</span><span class="p">):</span>
        <span class="n">navigation_keys</span> <span class="o">=</span> <span class="p">(</span><span class="s2">&quot;next&quot;</span><span class="p">,</span> <span class="s2">&quot;back&quot;</span><span class="p">,</span> <span class="s2">&quot;back to start&quot;</span><span class="p">)</span>

        <span class="n">other</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">navigation</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">desc</span> <span class="ow">in</span> <span class="n">optionslist</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">navigation_keys</span><span class="p">:</span>
                <span class="n">desc</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot; (</span><span class="si">{</span><span class="n">desc</span><span class="si">}</span><span class="s2">)&quot;</span> <span class="k">if</span> <span class="n">desc</span> <span class="k">else</span> <span class="s2">&quot;&quot;</span>
                <span class="n">navigation</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;|lc</span><span class="si">{</span><span class="n">key</span><span class="si">}</span><span class="s2">|lt|w</span><span class="si">{</span><span class="n">key</span><span class="si">}</span><span class="s2">|n|le</span><span class="si">{</span><span class="n">desc</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">other</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">key</span><span class="p">,</span> <span class="n">desc</span><span class="p">))</span>
        <span class="n">navigation</span> <span class="o">=</span> <span class="p">(</span>
            <span class="p">(</span><span class="s2">&quot; &quot;</span> <span class="o">+</span> <span class="s2">&quot; |W|||n &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">navigation</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot; |W|||n &quot;</span> <span class="o">+</span> <span class="s2">&quot;|wQ|Wuit|n&quot;</span><span class="p">)</span> <span class="k">if</span> <span class="n">navigation</span> <span class="k">else</span> <span class="s2">&quot;&quot;</span>
        <span class="p">)</span>
        <span class="n">other</span> <span class="o">=</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">options_formatter</span><span class="p">(</span><span class="n">other</span><span class="p">)</span>
        <span class="n">sep</span> <span class="o">=</span> <span class="s2">&quot;</span><span class="se">\n\n</span><span class="s2">&quot;</span> <span class="k">if</span> <span class="n">navigation</span> <span class="ow">and</span> <span class="n">other</span> <span class="k">else</span> <span class="s2">&quot;&quot;</span>

        <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">navigation</span><span class="si">}{</span><span class="n">sep</span><span class="si">}{</span><span class="n">other</span><span class="si">}</span><span class="s2">&quot;</span></div>
</div>



<div class="viewcode-block" id="init_menu">
<a class="viewcode-back" href="../../../../../api/evennia.contrib.tutorials.tutorial_world.intro_menu.html#evennia.contrib.tutorials.tutorial_world.intro_menu.init_menu">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">init_menu</span><span class="p">(</span><span class="n">caller</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Call to initialize the menu.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">menutree</span> <span class="o">=</span> <span class="n">parse_menu_template</span><span class="p">(</span><span class="n">caller</span><span class="p">,</span> <span class="n">MENU_TEMPLATE</span><span class="p">,</span> <span class="n">GOTO_CALLABLES</span><span class="p">)</span>
    <span class="n">TutorialEvMenu</span><span class="p">(</span><span class="n">caller</span><span class="p">,</span> <span class="n">menutree</span><span class="p">)</span></div>

</pre></div>

            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="Main">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../../../../../index.html">
              <img class="logo" src="../../../../../_static/evennia_logo.png" alt="Logo of Evennia"/>
            </a></p>
<search id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../../../../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</search>
<script>document.getElementById('searchbox').style.display = "block"</script><h3>Links</h3>
<ul>
  <li><a href="https://www.evennia.com/docs/latest/index.html">Documentation Top</a> </li>
  <li><a href="https://www.evennia.com">Evennia Home</a> </li>
  <li><a href="https://github.com/evennia/evennia">Github</a> </li>
  <li><a href="http://games.evennia.com">Game Index</a> </li>
  <li>
    <a href="https://discord.gg/AJJpcRUhtF">Discord</a> -
     <a href="https://github.com/evennia/evennia/discussions">Discussions</a> -
      <a href="https://evennia.blogspot.com/">Blog</a>
  </li>
</ul>
<h3>Doc Versions</h3>
<ul>
  
    <li>
      <a href="https://www.evennia.com/docs/latest/index.html">latest (main branch)</a>
    </li>
  
  
    <li>
      <a href="https://www.evennia.com/docs/5.x/index.html">v5.0.0 branch (outdated)</a>
    </li>
  
    <li>
      <a href="https://www.evennia.com/docs/4.x/index.html">v4.0.0 branch (outdated)</a>
    </li>
  
    <li>
      <a href="https://www.evennia.com/docs/3.x/index.html">v3.0.0 branch (outdated)</a>
    </li>
  
    <li>
      <a href="https://www.evennia.com/docs/2.x/index.html">v2.0.0 branch (outdated)</a>
    </li>
  
    <li>
      <a href="https://www.evennia.com/docs/1.x/index.html">v1.0.0 branch (outdated)</a>
    </li>
  
    <li>
      <a href="https://www.evennia.com/docs/0.x/index.html">v0.9.5 branch (outdated)</a>
    </li>
  
</ul>

        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="Related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../../../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../../../../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../../../../index.html">Evennia</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../../../../index.html" >Module code</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="../../../../evennia.html" >evennia</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">evennia.contrib.tutorials.tutorial_world.intro_menu</a></li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
    &#169; Copyright 2024, The Evennia developer community.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 8.2.3.
    </div>
  </body>
</html>