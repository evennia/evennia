<!DOCTYPE html>

<html lang="en" data-content_root="../">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Installation Troubleshooting &#8212; Evennia latest documentation</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=d75fae25" />
    <link rel="stylesheet" type="text/css" href="../_static/nature.css?v=279e0f84" />
    <link rel="stylesheet" type="text/css" href="../_static/custom.css?v=e4a91a55" />
    <script src="../_static/documentation_options.js?v=c6e86fd7"></script>
    <script src="../_static/doctools.js?v=9bcbadda"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <link rel="icon" href="../_static/favicon.ico"/>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Installing on Android" href="Installation-Android.html" />
    <link rel="prev" title="Installing with Docker" href="Installation-Docker.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="Related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="Installation-Android.html" title="Installing on Android"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="Installation-Docker.html" title="Installing with Docker"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">Evennia</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="Setup-Overview.html" accesskey="U">Server Setup and Life</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">Installation Troubleshooting</a></li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section class="tex2jax_ignore mathjax_ignore" id="installation-troubleshooting">
<h1>Installation Troubleshooting<a class="headerlink" href="#installation-troubleshooting" title="Link to this heading">¶</a></h1>
<p>If you have an issue not covered here, <a class="reference external" href="https://github.com/evennia/evennia/issues/new/choose">please report it</a> so it can be fixed or a workaround found!</p>
<p>The server logs are in <code class="docutils literal notranslate"><span class="pre">mygame/server/logs/</span></code>. To easily view server logs in the terminal,
you can run <code class="docutils literal notranslate"><span class="pre">evennia</span> <span class="pre">-l</span></code>, or start/reload the server with <code class="docutils literal notranslate"><span class="pre">evennia</span> <span class="pre">start</span> <span class="pre">-l</span></code> or <code class="docutils literal notranslate"><span class="pre">evennia</span> <span class="pre">reload</span> <span class="pre">-l</span></code>.</p>
<section id="check-your-requirements">
<h2>Check your Requirements<a class="headerlink" href="#check-your-requirements" title="Link to this heading">¶</a></h2>
<p>Any system that supports Python3.10+ should work.</p>
<ul class="simple">
<li><p>Linux/Unix</p></li>
<li><p>Windows (Win7, Win8, Win10, Win11)</p></li>
<li><p>Mac OSX (&gt;10.5 recommended)</p></li>
<li><p><a class="reference external" href="https://www.python.org">Python</a> (3.10, 3.11  and 3.12 are tested. 3.12 is recommended)</p></li>
<li><p><a class="reference external" href="https://twistedmatrix.com">Twisted</a> (v23.10+)</p>
<ul>
<li><p><a class="reference external" href="https://www.zope.org/Products/ZopeInterface">ZopeInterface</a> (v3.0+)  - usually included in Twisted packages</p></li>
<li><p>Linux/Mac users may need the <code class="docutils literal notranslate"><span class="pre">gcc</span></code> and <code class="docutils literal notranslate"><span class="pre">python-dev</span></code> packages or equivalent.</p></li>
<li><p>Windows users need <a class="reference external" href="https://aka.ms/vs/16/release/vs_buildtools.exe">MS Visual C++</a> and <em>maybe</em> <a class="reference external" href="https://pypi.python.org/pypi/pypiwin32">pypiwin32</a>.</p></li>
</ul>
</li>
<li><p><a class="reference external" href="https://www.djangoproject.com">Django</a> (v4.2+), be warned that latest dev version is usually untested with Evennia.</p></li>
<li><p><a class="reference external" href="https://git-scm.com/">GIT</a> - version control software used if you want to install the sources (but also useful to track your own code)</p>
<ul>
<li><p>Mac users can use the  <a class="reference external" href="https://code.google.com/p/git-osx-installer/">git-osx-installer</a> or the  <a class="reference external" href="https://git-scm.com/book/en/Getting-Started-Installing-Git#Installing-on-Mac">MacPorts version</a>.</p></li>
</ul>
</li>
</ul>
</section>
<section id="confusion-of-location-git-installation">
<h2>Confusion of location (GIT installation)<a class="headerlink" href="#confusion-of-location-git-installation" title="Link to this heading">¶</a></h2>
<p>When doing the <a class="reference internal" href="Installation-Git.html"><span class="std std-doc">Git installation</span></a>, some may be confused and install Evennia in the wrong location. After following the instructions (and using a virtualenv), the folder structure should look like this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">muddev</span><span class="o">/</span>
    <span class="n">evenv</span><span class="o">/</span>
    <span class="n">evennia</span><span class="o">/</span>
    <span class="n">mygame</span><span class="o">/</span>
</pre></div>
</div>
<p>The evennia library code itself is found inside <code class="docutils literal notranslate"><span class="pre">evennia/evennia/</span></code> (so two levels down). You shouldn’t change this; do all work in <code class="docutils literal notranslate"><span class="pre">mygame/</span></code>.  Your settings file  is <code class="docutils literal notranslate"><span class="pre">mygame/server/conf/settings.py</span></code> and the <em>parent</em> setting file is <code class="docutils literal notranslate"><span class="pre">evennia/evennia/settings_default.py</span></code>.</p>
</section>
<section id="virtualenv-setup-fails">
<h2>Virtualenv setup fails<a class="headerlink" href="#virtualenv-setup-fails" title="Link to this heading">¶</a></h2>
<p>When doing the <code class="docutils literal notranslate"><span class="pre">python3.x</span> <span class="pre">-m</span> <span class="pre">venv</span> <span class="pre">evenv</span></code> (where x is the python3 version) step, some users report getting an error; something like:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>Error: Command &#39;[&#39;evenv&#39;, &#39;-Im&#39;, &#39;ensurepip&#39;, &#39;--upgrade&#39;, &#39;--default-pip&#39;]&#39; 
returned non-zero exit status 1
</pre></div>
</div>
<p>You can solve this by installing the <code class="docutils literal notranslate"><span class="pre">python3.11-venv</span></code> (or later) package (or equivalent for your OS). Alternatively you can bootstrap it in this way:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>python3.x -m --without-pip evenv
</pre></div>
</div>
<p>This should set up the virtualenv without <code class="docutils literal notranslate"><span class="pre">pip</span></code>. Activate the new virtualenv and then install pip from within it (you don’t need to specify the python version once virtualenv is active):</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>python -m ensurepip --upgrade
</pre></div>
</div>
<p>If that fails, a worse alternative to try is</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>curl https://bootstrap.pypa.io/get-pip.py | python3.x    (linux/unix/WSL only)
</pre></div>
</div>
<p>Either way, you should now be able to continue with the installation.</p>
</section>
<section id="localhost-not-found">
<h2>Localhost not found<a class="headerlink" href="#localhost-not-found" title="Link to this heading">¶</a></h2>
<p>If <code class="docutils literal notranslate"><span class="pre">localhost</span></code> doesn’t work when trying to connect to your local game, try <code class="docutils literal notranslate"><span class="pre">127.0.0.1</span></code>, which is the same thing.</p>
</section>
<section id="linux-troubleshooting">
<h2>Linux Troubleshooting<a class="headerlink" href="#linux-troubleshooting" title="Link to this heading">¶</a></h2>
<ul class="simple">
<li><p>If you get an error when installing Evennia (especially with lines mentioning
failing to include <code class="docutils literal notranslate"><span class="pre">Python.h</span></code>) then try <code class="docutils literal notranslate"><span class="pre">sudo</span> <span class="pre">apt-get</span> <span class="pre">install</span> <span class="pre">python3-setuptools</span> <span class="pre">python3-dev</span></code>.  Once installed, run <code class="docutils literal notranslate"><span class="pre">pip</span> <span class="pre">install</span> <span class="pre">-e</span> <span class="pre">evennia</span></code> again.</p></li>
<li><p>When doing a <a class="reference internal" href="Installation-Git.html"><span class="std std-doc">git install</span></a>, some not-updated Linux distributions may give errors
about a too-old <code class="docutils literal notranslate"><span class="pre">setuptools</span></code> or missing <code class="docutils literal notranslate"><span class="pre">functools</span></code>. If so, update your environment
with <code class="docutils literal notranslate"><span class="pre">pip</span> <span class="pre">install</span> <span class="pre">--upgrade</span> <span class="pre">pip</span> <span class="pre">wheel</span> <span class="pre">setuptools</span></code>. Then try <code class="docutils literal notranslate"><span class="pre">pip</span> <span class="pre">install</span> <span class="pre">-e</span> <span class="pre">evennia</span></code> again.</p></li>
<li><p>One user reported a rare issue on Ubuntu 16 is an install error on installing Twisted; <code class="docutils literal notranslate"><span class="pre">Command</span> <span class="pre">&quot;python</span> <span class="pre">setup.py</span> <span class="pre">egg_info&quot;</span> <span class="pre">failed</span> <span class="pre">with</span> <span class="pre">error</span> <span class="pre">code</span> <span class="pre">1</span> <span class="pre">in</span> <span class="pre">/tmp/pip-build-vnIFTg/twisted/</span></code> with errors  like <code class="docutils literal notranslate"><span class="pre">distutils.errors.DistutilsError:</span> <span class="pre">Could</span> <span class="pre">not</span> <span class="pre">find</span> <span class="pre">suitable</span> <span class="pre">distribution</span> <span class="pre">for</span> <span class="pre">Requirement.parse('incremental&gt;=16.10.1')</span></code>. This appears possible to solve by simply updating Ubuntu with <code class="docutils literal notranslate"><span class="pre">sudo</span> <span class="pre">apt-get</span> <span class="pre">update</span> <span class="pre">&amp;&amp;</span> <span class="pre">sudo</span> <span class="pre">apt-get</span> <span class="pre">dist-upgrade</span></code>.</p></li>
<li><p>Users of Fedora (notably Fedora 24) has reported a <code class="docutils literal notranslate"><span class="pre">gcc</span></code> error saying the directory
<code class="docutils literal notranslate"><span class="pre">/usr/lib/rpm/redhat/redhat-hardened-cc1</span></code> is missing, despite <code class="docutils literal notranslate"><span class="pre">gcc</span></code> itself being installed. <a class="reference external" href="https://gist.github.com/yograterol/99c8e123afecc828cb8c">The
confirmed work-around</a> seems to be to  install the <code class="docutils literal notranslate"><span class="pre">redhat-rpm-config</span></code> package with e.g. <code class="docutils literal notranslate"><span class="pre">sudo</span> <span class="pre">dnf</span> <span class="pre">install</span> <span class="pre">redhat-rpm-config</span></code>.</p></li>
<li><p>Some users trying to set up a virtualenv on an NTFS filesystem find that it fails due to issues with symlinks not being supported. Answer is to not use NTFS (seriously, why would you do that to  yourself?)</p></li>
</ul>
</section>
<section id="mac-troubleshooting">
<h2>Mac Troubleshooting<a class="headerlink" href="#mac-troubleshooting" title="Link to this heading">¶</a></h2>
<ul class="simple">
<li><p>Some Mac users have reported not being able to connect to <code class="docutils literal notranslate"><span class="pre">localhost</span></code> (i.e. your own computer). If  so, try to connect to <code class="docutils literal notranslate"><span class="pre">127.0.0.1</span></code> instead, which is the same thing. Use port 4000 from mud clients  and port 4001 from the web browser as usual.</p></li>
<li><p>If you get a <code class="docutils literal notranslate"><span class="pre">MemoryError</span></code> when starting Evennia, or when looking at the log, this may be due to an sqlite versioning issue. <a class="reference external" href="https://github.com/evennia/evennia/discussions/2637">A user in our forums</a> found a working solution for this. <a class="reference external" href="https://github.com/evennia/evennia/issues/2854">Here</a> is another variation to solve it. <a class="reference external" href="https://github.com/evennia/evennia/issues/3704">Another user</a> also wrote an extensive summary of the issue, along with troubleshooting instructions.</p></li>
</ul>
</section>
<section id="windows-troubleshooting">
<h2>Windows Troubleshooting<a class="headerlink" href="#windows-troubleshooting" title="Link to this heading">¶</a></h2>
<ul class="simple">
<li><p>If you install with <code class="docutils literal notranslate"><span class="pre">pip</span> <span class="pre">install</span> <span class="pre">evennia</span></code> and find that the <code class="docutils literal notranslate"><span class="pre">evennia</span></code> command is not available, run <code class="docutils literal notranslate"><span class="pre">py</span> <span class="pre">-m</span> <span class="pre">evennia</span></code> once. This should add the evennia binary to your environment. If this fails, make sure you are using a <a class="reference internal" href="Installation-Git.html#virtualenv"><span class="std std-ref">virtualenv</span></a>. Worst case, you can keep using <code class="docutils literal notranslate"><span class="pre">py</span> <span class="pre">-m</span> <span class="pre">evennia</span></code> in the places where the <code class="docutils literal notranslate"><span class="pre">evennia</span></code> command is used.</p></li>
<li><ul>
<li><p>If you get a <code class="docutils literal notranslate"><span class="pre">command</span> <span class="pre">not</span> <span class="pre">found</span></code> when trying to run the <code class="docutils literal notranslate"><span class="pre">evennia</span></code> program directly after installation, try closing the Windows Console and starting it again (remember to re-activate the virtualenv if you use one!). Sometimes Windows is not updating its environment properly and <code class="docutils literal notranslate"><span class="pre">evennia</span></code> will be available only in the new console.</p></li>
</ul>
</li>
<li><p>If you installed Python but the <code class="docutils literal notranslate"><span class="pre">python</span></code> command is not available (even in a new console), then you might have missed installing Python on the path. In the Windows Python installer you get a list  of options for what to install. Most or all options are pre-checked except this one, and you may  even have to scroll down to see it. Reinstall Python and make sure it’s checked. Install Python <a class="reference external" href="https://www.python.org/downloads/windows/">from the Python homepage</a>. You will  need to be a Windows Administrator to install packages.</p></li>
<li><p>If your MUD client cannot connect to <code class="docutils literal notranslate"><span class="pre">localhost:4000</span></code>, try the equivalent <code class="docutils literal notranslate"><span class="pre">127.0.0.1:4000</span></code>  instead. Some MUD clients on Windows does not appear to understand the alias <code class="docutils literal notranslate"><span class="pre">localhost</span></code>.</p></li>
<li><p>Some Windows users get an error installing the Twisted ‘wheel’. A wheel is a pre-compiled binary package for Python. A common reason for this error is that you are using a 32-bit version of Python,  but Twisted has not yet uploaded the latest 32-bit wheel. Easiest way to fix this is to install a  slightly older Twisted version. So if, say, version <code class="docutils literal notranslate"><span class="pre">22.1</span></code> failed, install <code class="docutils literal notranslate"><span class="pre">22.0</span></code> manually with <code class="docutils literal notranslate"><span class="pre">pip</span> <span class="pre">install</span> <span class="pre">twisted==22.0</span></code>. Alternatively you could check that you are using the 64-bit version of Python  and uninstall any 32bit one. If so, you must then <code class="docutils literal notranslate"><span class="pre">deactivate</span></code> the virtualenv, delete the <code class="docutils literal notranslate"><span class="pre">evenv</span></code> folder   and recreate it anew with your new Python.</p></li>
<li><p>If you’ve done a git installation, and your server won’t start with an error message like <code class="docutils literal notranslate"><span class="pre">AttributeError:</span> <span class="pre">module</span> <span class="pre">'evennia'</span> <span class="pre">has</span> <span class="pre">no</span> <span class="pre">attribute</span> <span class="pre">'_init'</span></code>, it may be a python path issue. In a terminal, cd to <code class="docutils literal notranslate"><span class="pre">(your</span> <span class="pre">python</span> <span class="pre">directory)\site-packages</span></code> and run the command <code class="docutils literal notranslate"><span class="pre">echo</span> <span class="pre">&quot;C:\absolute\path\to\evennia&quot;</span> <span class="pre">&gt;</span> <span class="pre">local-vendors.pth</span></code>. Open the created file in your favorite IDE and make sure it is saved with <em>UTF-8</em> encoding and not <em>UTF-8 with BOM</em>.</p></li>
<li><p>Some users have reported issues with Windows WSL and anti-virus software during Evennia development. Timeout errors and the inability to run <code class="docutils literal notranslate"><span class="pre">evennia</span> <span class="pre">connections</span></code> may be due to your anti-virus software interfering. Try disabling or changing your anti-virus software settings.</p></li>
</ul>
</section>
</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="Main">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../index.html">
              <img class="logo" src="../_static/evennia_logo.png" alt="Logo of Evennia"/>
            </a></p>
<search id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</search>
<script>document.getElementById('searchbox').style.display = "block"</script>
<h3><a href="../index.html">Table of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Installation Troubleshooting</a><ul>
<li><a class="reference internal" href="#check-your-requirements">Check your Requirements</a></li>
<li><a class="reference internal" href="#confusion-of-location-git-installation">Confusion of location (GIT installation)</a></li>
<li><a class="reference internal" href="#virtualenv-setup-fails">Virtualenv setup fails</a></li>
<li><a class="reference internal" href="#localhost-not-found">Localhost not found</a></li>
<li><a class="reference internal" href="#linux-troubleshooting">Linux Troubleshooting</a></li>
<li><a class="reference internal" href="#mac-troubleshooting">Mac Troubleshooting</a></li>
<li><a class="reference internal" href="#windows-troubleshooting">Windows Troubleshooting</a></li>
</ul>
</li>
</ul>

  <div>
    <h4>Previous topic</h4>
    <p class="topless"><a href="Installation-Docker.html"
                          title="previous chapter">Installing with Docker</a></p>
  </div>
  <div>
    <h4>Next topic</h4>
    <p class="topless"><a href="Installation-Android.html"
                          title="next chapter">Installing on Android</a></p>
  </div>
  <div role="note" aria-label="source link">
    <!--h3>This Page</h3-->
    <ul class="this-page-menu">
      <li><a href="../_sources/Setup/Installation-Troubleshooting.md.txt"
            rel="nofollow">Show Page Source</a></li>
    </ul>
   </div><h3>Links</h3>
<ul>
  <li><a href="https://www.evennia.com/docs/latest/index.html">Documentation Top</a> </li>
  <li><a href="https://www.evennia.com">Evennia Home</a> </li>
  <li><a href="https://github.com/evennia/evennia">Github</a> </li>
  <li><a href="http://games.evennia.com">Game Index</a> </li>
  <li>
    <a href="https://discord.gg/AJJpcRUhtF">Discord</a> -
     <a href="https://github.com/evennia/evennia/discussions">Discussions</a> -
      <a href="https://evennia.blogspot.com/">Blog</a>
  </li>
</ul>
<h3>Doc Versions</h3>
<ul>
  
    <li>
      <a href="https://www.evennia.com/docs/latest/index.html">latest (main branch)</a>
    </li>
  
  
    <li>
      <a href="https://www.evennia.com/docs/5.x/index.html">v5.0.0 branch (outdated)</a>
    </li>
  
    <li>
      <a href="https://www.evennia.com/docs/4.x/index.html">v4.0.0 branch (outdated)</a>
    </li>
  
    <li>
      <a href="https://www.evennia.com/docs/3.x/index.html">v3.0.0 branch (outdated)</a>
    </li>
  
    <li>
      <a href="https://www.evennia.com/docs/2.x/index.html">v2.0.0 branch (outdated)</a>
    </li>
  
    <li>
      <a href="https://www.evennia.com/docs/1.x/index.html">v1.0.0 branch (outdated)</a>
    </li>
  
    <li>
      <a href="https://www.evennia.com/docs/0.x/index.html">v0.9.5 branch (outdated)</a>
    </li>
  
</ul>

        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="Related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="Installation-Android.html" title="Installing on Android"
             >next</a> |</li>
        <li class="right" >
          <a href="Installation-Docker.html" title="Installing with Docker"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">Evennia</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="Setup-Overview.html" >Server Setup and Life</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">Installation Troubleshooting</a></li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
    &#169; Copyright 2024, The Evennia developer community.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 8.2.3.
    </div>
  </body>
</html>