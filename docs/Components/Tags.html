<!DOCTYPE html>

<html lang="en" data-content_root="../">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Tags &#8212; Evennia latest documentation</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=d75fae25" />
    <link rel="stylesheet" type="text/css" href="../_static/nature.css?v=279e0f84" />
    <link rel="stylesheet" type="text/css" href="../_static/custom.css?v=e4a91a55" />
    <script src="../_static/documentation_options.js?v=c6e86fd7"></script>
    <script src="../_static/doctools.js?v=9bcbadda"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <link rel="icon" href="../_static/favicon.ico"/>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Spawner and Prototypes" href="Prototypes.html" />
    <link rel="prev" title="Nicks" href="Nicks.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="Related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="Prototypes.html" title="Spawner and Prototypes"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="Nicks.html" title="Nicks"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">Evennia</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="Components-Overview.html" accesskey="U">Core Components</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">Tags</a></li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section class="tex2jax_ignore mathjax_ignore" id="tags">
<h1>Tags<a class="headerlink" href="#tags" title="Link to this heading">¶</a></h1>
<p><em>Tags</em> are short text lables one can ‘attach’ to objects in order to organize, group and quickly find out their properties, similarly to how you attach labels to your luggage.</p>
<div class="literal-block-wrapper docutils container" id="id1">
<div class="code-block-caption"><span class="caption-text">In game</span><a class="headerlink" href="#id1" title="Link to this code">¶</a></div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span> <span class="n">tag</span> <span class="n">obj</span> <span class="o">=</span> <span class="n">tagname</span>
</pre></div>
</div>
</div>
<div class="literal-block-wrapper docutils container" id="id2">
<div class="code-block-caption"><span class="caption-text">In code, using .tags (TagHandler)</span><a class="headerlink" href="#id2" title="Link to this code">¶</a></div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">obj</span><span class="o">.</span><span class="n">tags</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="s2">&quot;mytag&quot;</span><span class="p">,</span> <span class="n">category</span><span class="o">=</span><span class="s2">&quot;foo&quot;</span><span class="p">)</span>
<span class="n">obj</span><span class="o">.</span><span class="n">tags</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;mytag&quot;</span><span class="p">,</span> <span class="n">category</span><span class="o">=</span><span class="s2">&quot;foo&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="literal-block-wrapper docutils container" id="id3">
<div class="code-block-caption"><span class="caption-text">In code, using TagProperty or TagCategoryProperty</span><a class="headerlink" href="#id3" title="Link to this code">¶</a></div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">evennia</span><span class="w"> </span><span class="kn">import</span> <span class="n">DefaultObject</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">evennia</span><span class="w"> </span><span class="kn">import</span> <span class="n">TagProperty</span><span class="p">,</span> <span class="n">TagCategoryProperty</span>

<span class="k">class</span><span class="w"> </span><span class="nc">Sword</span><span class="p">(</span><span class="n">DefaultObject</span><span class="p">):</span> 
    <span class="c1"># name of property is the tagkey, category as argument</span>
    <span class="n">can_be_wielded</span> <span class="o">=</span> <span class="n">TagProperty</span><span class="p">(</span><span class="n">category</span><span class="o">=</span><span class="s1">&#39;combat&#39;</span><span class="p">)</span>
    <span class="n">has_sharp_edge</span> <span class="o">=</span> <span class="n">TagProperty</span><span class="p">(</span><span class="n">category</span><span class="o">=</span><span class="s1">&#39;combat&#39;</span><span class="p">)</span>

    <span class="c1"># name of property is the category, tag-keys are arguments</span>
    <span class="n">damage_type</span> <span class="o">=</span> <span class="n">TagCategoryProperty</span><span class="p">(</span><span class="s2">&quot;piercing&quot;</span><span class="p">,</span> <span class="s2">&quot;slashing&quot;</span><span class="p">)</span>
    <span class="n">crafting_element</span> <span class="o">=</span> <span class="n">TagCategoryProperty</span><span class="p">(</span><span class="s2">&quot;blade&quot;</span><span class="p">,</span> <span class="s2">&quot;hilt&quot;</span><span class="p">,</span> <span class="s2">&quot;pommel&quot;</span><span class="p">)</span> 
        
</pre></div>
</div>
</div>
<p>In-game, tags are controlled by the default  <code class="docutils literal notranslate"><span class="pre">tag</span></code> command:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span> &gt; tag Chair = furniture
 &gt; tag Chair = furniture
 &gt; tag Table = furniture
 
 &gt; tag/search furniture 
 Chair, Sofa, Table
</pre></div>
</div>
<p>An Evennia entity can be tagged by any number of tags. Tags are more efficient than <a class="reference internal" href="Attributes.html"><span class="std std-doc">Attributes</span></a> since on the database-side, Tags are <em>shared</em> between all objects with that particular tag. A tag does not carry a value in itself; rather the existence of the tag itself is what is checked - a given object either has a given tag or not.</p>
<p>In code, you manage Tags using the <code class="docutils literal notranslate"><span class="pre">TagHandler</span></code> (<code class="docutils literal notranslate"><span class="pre">.tags</span></code>) on typeclassed entities. You can also assign Tags on the class level through the <code class="docutils literal notranslate"><span class="pre">TagProperty</span></code> (one tag, one category per line) or the <code class="docutils literal notranslate"><span class="pre">TagCategoryProperty</span></code> (one category, multiple tags per line). Both of these use the <code class="docutils literal notranslate"><span class="pre">TagHandler</span></code> under the hood, they are just convenient ways to add tags already when you define your class.</p>
<p>Above, the tags inform us that the <code class="docutils literal notranslate"><span class="pre">Sword</span></code> is both sharp and can be wielded. If that’s all they do, they could just be a normal Python flag. When tags become important is if there are a lot of objects with different combinations of tags. Maybe you have a magical spell that dulls <em>all</em> sharp-edged objects in the castle - whether sword, dagger, spear or kitchen knife! You can then just grab all objects with the <code class="docutils literal notranslate"><span class="pre">has_sharp_edge</span></code> tag.
Another example would be a weather script affecting all rooms tagged as <code class="docutils literal notranslate"><span class="pre">outdoors</span></code> or finding all characters tagged with the <code class="docutils literal notranslate"><span class="pre">belongs_to_fighter_guild</span></code> tag.</p>
<p>In Evennia, Tags are technically also used to implement <code class="docutils literal notranslate"><span class="pre">Aliases</span></code> (alternative names for objects) and <code class="docutils literal notranslate"><span class="pre">Permissions</span></code> (simple strings for <a class="reference internal" href="Locks.html"><span class="std std-doc">Locks</span></a> to check for).</p>
<section id="working-with-tags">
<h2>Working with Tags<a class="headerlink" href="#working-with-tags" title="Link to this heading">¶</a></h2>
<section id="searching-for-tags">
<h3>Searching for tags<a class="headerlink" href="#searching-for-tags" title="Link to this heading">¶</a></h3>
<p>The common way to use tags (once they have been set) is find all objects tagged with a particular tag combination:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>objs = evennia.search_tag(key=(&quot;foo&quot;, &quot;bar&quot;), category=&#39;mycategory&#39;)
</pre></div>
</div>
<p>As shown above, you can also have tags without a category (category of <code class="docutils literal notranslate"><span class="pre">None</span></code>).</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span>     <span class="kn">import</span><span class="w"> </span><span class="nn">evennia</span>
     
     <span class="c1"># all methods return Querysets</span>

     <span class="c1"># search for objects </span>
     <span class="n">objs</span> <span class="o">=</span> <span class="n">evennia</span><span class="o">.</span><span class="n">search_tag</span><span class="p">(</span><span class="s2">&quot;furniture&quot;</span><span class="p">)</span>
     <span class="n">objs2</span> <span class="o">=</span> <span class="n">evennia</span><span class="o">.</span><span class="n">search_tag</span><span class="p">(</span><span class="s2">&quot;furniture&quot;</span><span class="p">,</span> <span class="n">category</span><span class="o">=</span><span class="s2">&quot;luxurious&quot;</span><span class="p">)</span>
     <span class="n">dungeon</span> <span class="o">=</span> <span class="n">evennia</span><span class="o">.</span><span class="n">search_tag</span><span class="p">(</span><span class="s2">&quot;dungeon#01&quot;</span><span class="p">)</span>
     <span class="n">forest_rooms</span> <span class="o">=</span> <span class="n">evennia</span><span class="o">.</span><span class="n">search_tag</span><span class="p">(</span><span class="n">category</span><span class="o">=</span><span class="s2">&quot;forest&quot;</span><span class="p">)</span> 
     <span class="n">forest_meadows</span> <span class="o">=</span> <span class="n">evennia</span><span class="o">.</span><span class="n">search_tag</span><span class="p">(</span><span class="s2">&quot;meadow&quot;</span><span class="p">,</span> <span class="n">category</span><span class="o">=</span><span class="s2">&quot;forest&quot;</span><span class="p">)</span>
     <span class="n">magic_meadows</span> <span class="o">=</span> <span class="n">evennia</span><span class="o">.</span><span class="n">search_tag</span><span class="p">(</span><span class="s2">&quot;meadow&quot;</span><span class="p">,</span> <span class="n">category</span><span class="o">=</span><span class="s2">&quot;magical&quot;</span><span class="p">)</span>

     <span class="c1"># search for scripts</span>
     <span class="n">weather</span> <span class="o">=</span> <span class="n">evennia</span><span class="o">.</span><span class="n">search_tag_script</span><span class="p">(</span><span class="s2">&quot;weather&quot;</span><span class="p">)</span>
     <span class="n">climates</span> <span class="o">=</span> <span class="n">evennia</span><span class="o">.</span><span class="n">search_tag_script</span><span class="p">(</span><span class="n">category</span><span class="o">=</span><span class="s2">&quot;climate&quot;</span><span class="p">)</span>

     <span class="c1"># search for accounts</span>
     <span class="n">accounts</span> <span class="o">=</span> <span class="n">evennia</span><span class="o">.</span><span class="n">search_tag_account</span><span class="p">(</span><span class="s2">&quot;guestaccount&quot;</span><span class="p">)</span>          
</pre></div>
</div>
<blockquote>
<div><p>Note that searching for just “furniture” will only return the objects tagged with the “furniture” tag that has a category of <code class="docutils literal notranslate"><span class="pre">None</span></code>. We must explicitly give the category to get the “luxurious” furniture.</p>
</div></blockquote>
<p>Using any of the <code class="docutils literal notranslate"><span class="pre">search_tag</span></code> variants will all return <a class="reference external" href="https://docs.djangoproject.com/en/4.1/ref/models/querysets/">Django Querysets</a>, including if you only have one match. You can treat querysets as lists and iterate over them, or continue building search queries with them.</p>
<p>Remember when searching that not setting a category means setting it to <code class="docutils literal notranslate"><span class="pre">None</span></code> - this does <em>not</em> mean that category is undefined, rather <code class="docutils literal notranslate"><span class="pre">None</span></code> is considered the default, unnamed category.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">evennia</span> 

<span class="n">myobj1</span><span class="o">.</span><span class="n">tags</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="s2">&quot;foo&quot;</span><span class="p">)</span>  <span class="c1"># implies category=None</span>
<span class="n">myobj2</span><span class="o">.</span><span class="n">tags</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="s2">&quot;foo&quot;</span><span class="p">,</span> <span class="n">category</span><span class="o">=</span><span class="s2">&quot;bar&quot;</span><span class="p">)</span>

<span class="c1"># this returns a queryset with *only* myobj1 </span>
<span class="n">objs</span> <span class="o">=</span> <span class="n">evennia</span><span class="o">.</span><span class="n">search_tag</span><span class="p">(</span><span class="s2">&quot;foo&quot;</span><span class="p">)</span>

<span class="c1"># these return a queryset with *only* myobj2</span>
<span class="n">objs</span> <span class="o">=</span> <span class="n">evennia</span><span class="o">.</span><span class="n">search_tag</span><span class="p">(</span><span class="s2">&quot;foo&quot;</span><span class="p">,</span> <span class="n">category</span><span class="o">=</span><span class="s2">&quot;bar&quot;</span><span class="p">)</span>
<span class="c1"># or</span>
<span class="n">objs</span> <span class="o">=</span> <span class="n">evennia</span><span class="o">.</span><span class="n">search_tag</span><span class="p">(</span><span class="n">category</span><span class="o">=</span><span class="s2">&quot;bar&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>There is also an in-game command that deals with assigning and using (<a class="reference internal" href="Objects.html"><span class="std std-doc">Object-</span></a>) tags:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span> tag/search furniture
</pre></div>
</div>
</section>
<section id="taghandler">
<h3>TagHandler<a class="headerlink" href="#taghandler" title="Link to this heading">¶</a></h3>
<p>This is  the main way to work with tags when you have the entry already. This handler sits on all typeclassed entities as <code class="docutils literal notranslate"><span class="pre">.tags</span></code> and you use <code class="docutils literal notranslate"><span class="pre">.tags.add()</span></code>, <code class="docutils literal notranslate"><span class="pre">.tags.remove()</span></code> and <code class="docutils literal notranslate"><span class="pre">.tags.has()</span></code> to manage Tags on the object. <a class="reference internal" href="../api/evennia.typeclasses.tags.html#evennia.typeclasses.tags.TagHandler" title="evennia.typeclasses.tags.TagHandler"><span class="xref myst py py-class">See the api docs</span></a> for more useful methods.</p>
<p>The TagHandler can be found on any of the base <em>typeclassed</em> objects, namely <a class="reference internal" href="Objects.html"><span class="std std-doc">Objects</span></a>, <a class="reference internal" href="Accounts.html"><span class="std std-doc">Accounts</span></a>, <a class="reference internal" href="Scripts.html"><span class="std std-doc">Scripts</span></a> and <a class="reference internal" href="Channels.html"><span class="std std-doc">Channels</span></a> (as well as their children). Here are some examples of use:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span>     <span class="n">mychair</span><span class="o">.</span><span class="n">tags</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="s2">&quot;furniture&quot;</span><span class="p">)</span>
     <span class="n">mychair</span><span class="o">.</span><span class="n">tags</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="s2">&quot;furniture&quot;</span><span class="p">,</span> <span class="n">category</span><span class="o">=</span><span class="s2">&quot;luxurious&quot;</span><span class="p">)</span>
     <span class="n">myroom</span><span class="o">.</span><span class="n">tags</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="s2">&quot;dungeon#01&quot;</span><span class="p">)</span>
     <span class="n">myscript</span><span class="o">.</span><span class="n">tags</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="s2">&quot;weather&quot;</span><span class="p">,</span> <span class="n">category</span><span class="o">=</span><span class="s2">&quot;climate&quot;</span><span class="p">)</span>
     <span class="n">myaccount</span><span class="o">.</span><span class="n">tags</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="s2">&quot;guestaccount&quot;</span><span class="p">)</span>

     <span class="n">mychair</span><span class="o">.</span><span class="n">tags</span><span class="o">.</span><span class="n">all</span><span class="p">()</span>  <span class="c1"># returns a list of Tags</span>
     <span class="n">mychair</span><span class="o">.</span><span class="n">tags</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="s2">&quot;furniture&quot;</span><span class="p">)</span> 
     <span class="n">mychair</span><span class="o">.</span><span class="n">tags</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>    
</pre></div>
</div>
<p>Adding a new tag will either create a new Tag or re-use an already existing one. Note that there are <em>two</em> “furniture” tags, one with a <code class="docutils literal notranslate"><span class="pre">None</span></code> category, and one with the “luxurious” category.</p>
<p>When using <code class="docutils literal notranslate"><span class="pre">remove</span></code>, the <code class="docutils literal notranslate"><span class="pre">Tag</span></code> is not deleted but are just disconnected from the tagged object. This makes for very quick operations. The <code class="docutils literal notranslate"><span class="pre">clear</span></code> method removes (disconnects) all Tags from the object.</p>
</section>
<section id="tagproperty">
<h3>TagProperty<a class="headerlink" href="#tagproperty" title="Link to this heading">¶</a></h3>
<p>This is used as a property when you create a new class:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">evennia</span><span class="w"> </span><span class="kn">import</span> <span class="n">TagProperty</span> 
<span class="kn">from</span><span class="w"> </span><span class="nn">typeclasses</span><span class="w"> </span><span class="kn">import</span> <span class="n">Object</span> 

<span class="k">class</span><span class="w"> </span><span class="nc">MyClass</span><span class="p">(</span><span class="n">Object</span><span class="p">):</span>
    <span class="n">mytag</span> <span class="o">=</span> <span class="n">TagProperty</span><span class="p">(</span><span class="n">tagcategory</span><span class="p">)</span>
</pre></div>
</div>
<p>This will create a Tag named <code class="docutils literal notranslate"><span class="pre">mytag</span></code> and category <code class="docutils literal notranslate"><span class="pre">tagcategory</span></code> in the database. You’ll be able to find it by <code class="docutils literal notranslate"><span class="pre">obj.mytag</span></code> but more useful you can find it with the normal Tag searching methods in the database.</p>
<p>Note that if you were to delete this tag with <code class="docutils literal notranslate"><span class="pre">obj.tags.remove(&quot;mytag&quot;,</span> <span class="pre">&quot;tagcategory&quot;)</span></code>, that tag will be <em>re-added</em> to the object next time this property is accessed!</p>
</section>
<section id="tagcategoryproperty">
<h3>TagCategoryProperty<a class="headerlink" href="#tagcategoryproperty" title="Link to this heading">¶</a></h3>
<p>This is the inverse of <code class="docutils literal notranslate"><span class="pre">TagProperty</span></code>:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">evennia</span><span class="w"> </span><span class="kn">import</span> <span class="n">TagCategoryProperty</span> 
<span class="kn">from</span><span class="w"> </span><span class="nn">typeclasses</span><span class="w"> </span><span class="kn">import</span> <span class="n">Object</span> 

<span class="k">class</span><span class="w"> </span><span class="nc">MyClass</span><span class="p">(</span><span class="n">Object</span><span class="p">):</span> 
    <span class="n">tagcategory</span> <span class="o">=</span> <span class="n">TagCategroyProperty</span><span class="p">(</span><span class="n">tagkey1</span><span class="p">,</span> <span class="n">tagkey2</span><span class="p">)</span>
</pre></div>
</div>
<p>The above example means you’ll have two tags (<code class="docutils literal notranslate"><span class="pre">tagkey1</span></code> and <code class="docutils literal notranslate"><span class="pre">tagkey2</span></code>), each with the <code class="docutils literal notranslate"><span class="pre">tagcategory</span></code> category, assigned to this object.</p>
<p>Note that similarly to how it works for <code class="docutils literal notranslate"><span class="pre">TagProperty</span></code>, if you were to delete these tags from the object with the <code class="docutils literal notranslate"><span class="pre">TagHandler</span></code> (<code class="docutils literal notranslate"><span class="pre">obj.tags.remove(&quot;tagkey1&quot;,</span> <span class="pre">&quot;tagcategory&quot;)</span></code>, then these tags will be <em>re-added</em> automatically next time the property is accessed.</p>
<p>The reverse is however not true: If you were to <em>add</em> a new tag of the same category to the object, via the <code class="docutils literal notranslate"><span class="pre">TagHandler</span></code>, then this property will include that in the list of returned tags.</p>
<p>If you want to ‘re-sync’ the tags in the property with that in the database, you can use the <code class="docutils literal notranslate"><span class="pre">del</span></code> operation on it - next time the property is accessed, it will then only show the default keys you specify in it. Here’s how it works:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">obj</span><span class="o">.</span><span class="n">tagcategory</span> 
<span class="go">[&quot;tagkey1&quot;, &quot;tagkey2&quot;]</span>

<span class="go"># remove one of the default tags outside the property</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">obj</span><span class="o">.</span><span class="n">tags</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="s2">&quot;tagkey1&quot;</span><span class="p">,</span> <span class="s2">&quot;tagcategory&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">obj</span><span class="o">.</span><span class="n">tagcategory</span> 
<span class="go">[&quot;tagkey1&quot;, &quot;tagkey2&quot;]   # missing tag is auto-created! </span>

<span class="go"># add a new tag from outside the property </span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">obj</span><span class="o">.</span><span class="n">tags</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="s2">&quot;tagkey3&quot;</span><span class="p">,</span> <span class="s2">&quot;tagcategory&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">obj</span><span class="o">.</span><span class="n">tagcategory</span> 
<span class="go">[&quot;tagkey1&quot;, &quot;tagkey2&quot;, &quot;tagkey3&quot;]  # includes the new tag! </span>

<span class="go"># sync property with datbase </span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">del</span> <span class="n">obj</span><span class="o">.</span><span class="n">tagcategory</span> 
<span class="gp">&gt;&gt;&gt; </span><span class="n">obj</span><span class="o">.</span><span class="n">tagcategory</span> 
<span class="go">[&quot;tagkey1&quot;, &quot;tagkey2&quot;]   # property/database now in sync </span>
</pre></div>
</div>
</section>
</section>
<section id="properties-of-tags-and-aliases-and-permissions">
<h2>Properties of Tags (and Aliases and Permissions)<a class="headerlink" href="#properties-of-tags-and-aliases-and-permissions" title="Link to this heading">¶</a></h2>
<p>Tags are <em>unique</em>. This means that there is only ever one Tag object with a given key and category.</p>
<div class="admonition important">
<p class="admonition-title">Important</p>
<p>Not specifying a category (default) gives the tag a category of <code class="docutils literal notranslate"><span class="pre">None</span></code>, which is also considered a unique key + category combination. You cannot use <code class="docutils literal notranslate"><span class="pre">TagCategoryProperty</span></code> to set Tags with <code class="docutils literal notranslate"><span class="pre">None</span></code> categories, since the property name may not be <code class="docutils literal notranslate"><span class="pre">None</span></code>. Use the <code class="docutils literal notranslate"><span class="pre">TagHandler</span></code> (or <code class="docutils literal notranslate"><span class="pre">TagProperty</span></code>) for this.</p>
</div>
<p>When Tags are assigned to game entities, these entities are actually sharing the same Tag. This means that Tags are not suitable for storing information about a single object - use an
<a class="reference internal" href="Attributes.html"><span class="std std-doc">Attribute</span></a> for this instead. Tags are a lot more limited than Attributes but this also
makes them very quick to lookup in the database - this is the whole point.</p>
<p>Tags have the following properties, stored in the database:</p>
<ul class="simple">
<li><p><strong>key</strong> - the name of the Tag. This is the main property to search for when looking up a Tag.</p></li>
<li><p><strong>category</strong> - this category allows for retrieving only specific subsets of tags used for different purposes. You could have one category of tags for “zones”, another for “outdoor locations”, for example. If not given, the category will be <code class="docutils literal notranslate"><span class="pre">None</span></code>, which is also considered a separate, default, category.</p></li>
<li><p><strong>data</strong> - this is an optional text field with information about the tag. Remember that Tags are shared between entities, so this field cannot hold any object-specific information. Usually it would be used to hold info about the group of entities the Tag is tagging - possibly used for contextual help like a tool tip. It is not used by default.</p></li>
</ul>
<p>There are also two special properties. These should usually not need to be changed or set, it is used internally by Evennia to implement various other uses it makes of the <code class="docutils literal notranslate"><span class="pre">Tag</span></code> object:</p>
<ul class="simple">
<li><p><strong>model</strong> - this holds a <em>natural-key</em> description of the model object that this tag deals with, on the form <em>application.modelclass</em>, for example <code class="docutils literal notranslate"><span class="pre">objects.objectdb</span></code>. It used by the TagHandler of each entity type for correctly storing the data behind the  scenes.</p></li>
<li><p><strong>tagtype</strong> - this is a “top-level category” of sorts for the inbuilt children of Tags, namely <em>Aliases</em> and <em>Permissions</em>. The Taghandlers using this special field are especially intended to free up the <em>category</em> property for any use you desire.</p></li>
</ul>
</section>
<section id="aliases-and-permissions">
<h2>Aliases and Permissions<a class="headerlink" href="#aliases-and-permissions" title="Link to this heading">¶</a></h2>
<p>Aliases and Permissions are implemented using normal TagHandlers that simply save Tags with a
different <code class="docutils literal notranslate"><span class="pre">tagtype</span></code>. These handlers are named <code class="docutils literal notranslate"><span class="pre">aliases</span></code> and <code class="docutils literal notranslate"><span class="pre">permissions</span></code> on all Objects. They are
used in the same way as Tags above:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span>    <span class="n">boy</span><span class="o">.</span><span class="n">aliases</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="s2">&quot;rascal&quot;</span><span class="p">)</span>
    <span class="n">boy</span><span class="o">.</span><span class="n">permissions</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="s2">&quot;Builders&quot;</span><span class="p">)</span>
    <span class="n">boy</span><span class="o">.</span><span class="n">permissions</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="s2">&quot;Builders&quot;</span><span class="p">)</span>

    <span class="n">all_aliases</span> <span class="o">=</span> <span class="n">boy</span><span class="o">.</span><span class="n">aliases</span><span class="o">.</span><span class="n">all</span><span class="p">()</span>
</pre></div>
</div>
<p>and so on. Similarly to how <code class="docutils literal notranslate"><span class="pre">tag</span></code> works in-game, there is also the <code class="docutils literal notranslate"><span class="pre">perm</span></code> command for assigning permissions and <code class="docutils literal notranslate"><span class="pre">&#64;alias</span></code> command for aliases.</p>
</section>
</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="Main">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../index.html">
              <img class="logo" src="../_static/evennia_logo.png" alt="Logo of Evennia"/>
            </a></p>
<search id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</search>
<script>document.getElementById('searchbox').style.display = "block"</script>
<h3><a href="../index.html">Table of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Tags</a><ul>
<li><a class="reference internal" href="#working-with-tags">Working with Tags</a><ul>
<li><a class="reference internal" href="#searching-for-tags">Searching for tags</a></li>
<li><a class="reference internal" href="#taghandler">TagHandler</a></li>
<li><a class="reference internal" href="#tagproperty">TagProperty</a></li>
<li><a class="reference internal" href="#tagcategoryproperty">TagCategoryProperty</a></li>
</ul>
</li>
<li><a class="reference internal" href="#properties-of-tags-and-aliases-and-permissions">Properties of Tags (and Aliases and Permissions)</a></li>
<li><a class="reference internal" href="#aliases-and-permissions">Aliases and Permissions</a></li>
</ul>
</li>
</ul>

  <div>
    <h4>Previous topic</h4>
    <p class="topless"><a href="Nicks.html"
                          title="previous chapter">Nicks</a></p>
  </div>
  <div>
    <h4>Next topic</h4>
    <p class="topless"><a href="Prototypes.html"
                          title="next chapter">Spawner and Prototypes</a></p>
  </div>
  <div role="note" aria-label="source link">
    <!--h3>This Page</h3-->
    <ul class="this-page-menu">
      <li><a href="../_sources/Components/Tags.md.txt"
            rel="nofollow">Show Page Source</a></li>
    </ul>
   </div><h3>Links</h3>
<ul>
  <li><a href="https://www.evennia.com/docs/latest/index.html">Documentation Top</a> </li>
  <li><a href="https://www.evennia.com">Evennia Home</a> </li>
  <li><a href="https://github.com/evennia/evennia">Github</a> </li>
  <li><a href="http://games.evennia.com">Game Index</a> </li>
  <li>
    <a href="https://discord.gg/AJJpcRUhtF">Discord</a> -
     <a href="https://github.com/evennia/evennia/discussions">Discussions</a> -
      <a href="https://evennia.blogspot.com/">Blog</a>
  </li>
</ul>
<h3>Doc Versions</h3>
<ul>
  
    <li>
      <a href="https://www.evennia.com/docs/latest/index.html">latest (main branch)</a>
    </li>
  
  
    <li>
      <a href="https://www.evennia.com/docs/5.x/index.html">v5.0.0 branch (outdated)</a>
    </li>
  
    <li>
      <a href="https://www.evennia.com/docs/4.x/index.html">v4.0.0 branch (outdated)</a>
    </li>
  
    <li>
      <a href="https://www.evennia.com/docs/3.x/index.html">v3.0.0 branch (outdated)</a>
    </li>
  
    <li>
      <a href="https://www.evennia.com/docs/2.x/index.html">v2.0.0 branch (outdated)</a>
    </li>
  
    <li>
      <a href="https://www.evennia.com/docs/1.x/index.html">v1.0.0 branch (outdated)</a>
    </li>
  
    <li>
      <a href="https://www.evennia.com/docs/0.x/index.html">v0.9.5 branch (outdated)</a>
    </li>
  
</ul>

        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="Related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="Prototypes.html" title="Spawner and Prototypes"
             >next</a> |</li>
        <li class="right" >
          <a href="Nicks.html" title="Nicks"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">Evennia</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="Components-Overview.html" >Core Components</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">Tags</a></li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
    &#169; Copyright 2024, The Evennia developer community.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 8.2.3.
    </div>
  </body>
</html>